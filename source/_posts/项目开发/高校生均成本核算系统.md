---
title: 高校生均成本核算系统
date: 2023-08-29 23:09
updated: 星期五 8日 九月 2023 11:56:26
tags: []
categories: [项目开发]
keywords:
description: 
---


# 遇到的问题和自己的思考🤔
1. 学科是在成本中心表中还是在学科专业目录表中？虽然学科专业目录表带了学科二字但我觉得应该是在成本中心表中，因为学院到学科是存在分配路径的，也涉及到了成本动因，应该也属于成本中心。那么学科专业目录树结构也就没有意义了，也要更名为专业目录表。学科是指下面的学科：
	![](https://lilming-obsidian.oss-cn-hangzhou.aliyuncs.com/pic/Pasted%20image%2020230830220841.png)
2. 如果第一个想法是对的话，学科专业目录中的成本中心 id 就应该有多个成本中心 id，用逗号分隔。在成本动因采集的自动取数中，动因量是依据填入的成本中心 id 自动读表计算得到的，假设是读取在校学生人数表，在校学生人数表只有专业 ID，就要先从学科专业目录表中选取对应成本中心的 id 值，然而学科也算成本中心，会计学的成本中心就是管理学和会计学院。
3. 马克思学院、外国语学院和理学院有基础教学功能的学院要区分公共课与专业课，按照课时比例，在本学院和全校范围进行分摊。然而动因采集表只有成本中心 ID，动因量这两个关键字段，没办法区分是哪个学院开始的公共课，那么是否是通过设置多个成本动因来解决的，比如：理学院授课时长、外国语学院授课时长、理学院授课时长。其次，开课明细表缺少成本中心 id，比如概率论由理学院开课，成本中心就是是理学院，并且要有特殊的取数规则，以理学院授课时长举例：在成本动因自动取数的过程中，要选取开课明细表中开课学院是理学院的，这与其他的成本动因取数方式不同，比如学生人数就直接选取人数就好了，不需要额外筛选；我的想法是在成本动因中的计算公式中使用 sql 注入，添加一个 where 筛选条件，比如 
```sql
WHERE cost_center_id = 'XXX';
```
4. 家庭补助支出里的 `专业` 和 `学科` 字段的 ID 还是字符串？
5. 理学院直接分配到二级学院会形成环，整个数据结构会变成图而不是树
6. 理学院、马克思学院与外国语学院之间存在双向分配关系
7. 除不尽的小数如何处理