<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>lilming的方舟</title>
  
  
  <link href="https://coding.lilming.top/atom.xml" rel="self"/>
  
  <link href="https://coding.lilming.top/"/>
  <updated>2023-09-08T03:56:30.894Z</updated>
  <id>https://coding.lilming.top/</id>
  
  <author>
    <name>lilming</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>高校生均成本核算系统</title>
    <link href="https://coding.lilming.top/2023/08/29/%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/%E9%AB%98%E6%A0%A1%E7%94%9F%E5%9D%87%E6%88%90%E6%9C%AC%E6%A0%B8%E7%AE%97%E7%B3%BB%E7%BB%9F/"/>
    <id>https://coding.lilming.top/2023/08/29/%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/%E9%AB%98%E6%A0%A1%E7%94%9F%E5%9D%87%E6%88%90%E6%9C%AC%E6%A0%B8%E7%AE%97%E7%B3%BB%E7%BB%9F/</id>
    <published>2023-08-29T15:09:00.000Z</published>
    <updated>2023-09-08T03:56:30.894Z</updated>
    
    <content type="html"><![CDATA[<h1 id="遇到的问题和自己的思考🤔"><a href="#遇到的问题和自己的思考🤔" class="headerlink" title="遇到的问题和自己的思考🤔"></a>遇到的问题和自己的思考🤔</h1><ol><li>学科是在成本中心表中还是在学科专业目录表中？虽然学科专业目录表带了学科二字但我觉得应该是在成本中心表中，因为学院到学科是存在分配路径的，也涉及到了成本动因，应该也属于成本中心。那么学科专业目录树结构也就没有意义了，也要更名为专业目录表。学科是指下面的学科：<br> <img src="/../static/Pasted%20image%2020230830220841.png"></li><li>如果第一个想法是对的话，学科专业目录中的成本中心 id 就应该有多个成本中心 id，用逗号分隔。在成本动因采集的自动取数中，动因量是依据填入的成本中心 id 自动读表计算得到的，假设是读取在校学生人数表，在校学生人数表只有专业 ID，就要先从学科专业目录表中选取对应成本中心的 id 值，然而学科也算成本中心，会计学的成本中心就是管理学和会计学院。</li><li>马克思学院、外国语学院和理学院有基础教学功能的学院要区分公共课与专业课，按照课时比例，在本学院和全校范围进行分摊。然而动因采集表只有成本中心 ID，动因量这两个关键字段，没办法区分是哪个学院开始的公共课，那么是否是通过设置多个成本动因来解决的，比如：理学院授课时长、外国语学院授课时长、理学院授课时长。其次，开课明细表缺少成本中心 id，比如概率论由理学院开课，成本中心就是是理学院，并且要有特殊的取数规则，以理学院授课时长举例：在成本动因自动取数的过程中，要选取开课明细表中开课学院是理学院的，这与其他的成本动因取数方式不同，比如学生人数就直接选取人数就好了，不需要额外筛选；我的想法是在成本动因中的计算公式中使用 sql 注入，添加一个 where 筛选条件，比如 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">WHERE</span> cost_center_id <span class="operator">=</span> <span class="string">&#x27;XXX&#x27;</span>;</span><br></pre></td></tr></table></figure></li><li>家庭补助支出里的 <code>专业</code> 和 <code>学科</code> 字段的 ID 还是字符串？</li><li>理学院直接分配到二级学院会形成环，整个数据结构会变成图而不是树</li><li>理学院、马克思学院与外国语学院之间存在双向分配关系</li><li>除不尽的小数如何处理</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;遇到的问题和自己的思考🤔&quot;&gt;&lt;a href=&quot;#遇到的问题和自己的思考🤔&quot; class=&quot;headerlink&quot; title=&quot;遇到的问题和自己的思考🤔&quot;&gt;&lt;/a&gt;遇到的问题和自己的思考🤔&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;学科是在成本中心表中还是在学科专业目录表</summary>
      
    
    
    
    <category term="项目开发" scheme="https://coding.lilming.top/categories/%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/"/>
    
    
  </entry>
  
  <entry>
    <title>orginone功能开发——应用开发手册</title>
    <link href="https://coding.lilming.top/2023/08/07/orginone%E5%AE%9E%E4%B9%A0%E7%BB%8F%E5%8E%86/orginone%E5%8A%9F%E8%83%BD%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91%E6%89%8B%E5%86%8C/"/>
    <id>https://coding.lilming.top/2023/08/07/orginone%E5%AE%9E%E4%B9%A0%E7%BB%8F%E5%8E%86/orginone%E5%8A%9F%E8%83%BD%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91%E6%89%8B%E5%86%8C/</id>
    <published>2023-08-07T13:21:00.000Z</published>
    <updated>2023-09-08T03:55:43.950Z</updated>
    
    <content type="html"><![CDATA[<p>本教程将引导你逐步实现一个简单的大型仪器预约应用，实现新增大型仪器以及对仪器进行预约申请。在此过程中你会学习到基于 orginone 平台进行应用开发的基本过程，同时又助于让你对 orginone 平台有更深入的理解。</p><h1 id="设置属性"><a href="#设置属性" class="headerlink" title="设置属性"></a>设置属性</h1><p>所谓 <code>属性</code> 是指表单中各个字段的标签，用于标识表单中每个字段的类型和名称。一个 <code>属性</code> 可以添加到多个表单中，为表单添加一项字段，而表单中的字段被称为 <code>特性</code>，若将 <code>属性</code> 比作父母，则 <code>特性</code> 就好比孩子。</p><p>在该应用中我们需要两个表单，分别是 <code>仪器列表</code> 和 <code>预约申请</code>，接下来我们为这两个表单创建属性。</p><p>为了方便创建应用，我们先在个人页面中创建一个单位，命名为 <code>功能示范</code>，在该单位下创建目录 <code>大型仪器共享</code>，在该目录下创建目录 <code>属性</code>，用来存放该应用下的所有属性。</p><p><img src="/../static/Pasted%20image%2020230808194453.png"></p><p>右键目录空白处，依次点击 <code>新建更多&gt;新建属性</code>。<br><img src="/../static/Pasted%20image%2020230808194540.png"></p><p>在弹出的表单中填写我们的第一个属性：<br><img src="/../static/Pasted%20image%2020230808140934.png"></p><p>创建好了仪器的名称属性后，我们再一一创建单位、分类、价值属性，单位和分类我们选择 <code>描述型</code>，价值我们选择 <code>数值型</code>。<br><img src="/../static/Pasted%20image%2020230808141728.png"></p><p>设置好 <code>仪器列表</code> 的属性后，我们设置 <code>预约申请</code> 的属性。<code>预约申请</code> 的属性只需开始时间和结束时间，添加开始时间和结束时间即可，这两个属性的类型都设置为 <code>时间型</code>。</p><p><img src="/../static/Pasted%20image%2020230808195446.png"></p><h1 id="设置分类"><a href="#设置分类" class="headerlink" title="设置分类"></a>设置分类</h1><p>如果一些属性其值是固定的几个之一，我们可以建立 <code>分类</code>，来限定属性值，方便录入和统计，当然这一步不是必要的，不设立分类也可以实现本功能如果没有这方面的需求可以跳过。在要建立分类的属性的同级目录下，创建分类。<br><img src="/../static/Pasted%20image%2020230814223540.png"></p><p>之后点击分类，录入分类项目：医疗仪器、工业仪器、办公设备。<br><img src="/../static/Pasted%20image%2020230814223620.png"></p><p>设置好分类之后，回到目录右击仪器分类，点击更新信息。<br><img src="/../static/Pasted%20image%2020230814224007.png"></p><p>将属性类型改为 <code>分类型</code>，在选择分类中选择刚刚创建好分类。<br><img src="/../static/Pasted%20image%2020230814224136.png"></p><h1 id="创建实体表单"><a href="#创建实体表单" class="headerlink" title="创建实体表单"></a>创建实体表单</h1><p><code>实体表单</code> 对应着的是实际存在的事物，而与之相对的 <code>事项表单</code> 是抽象的事物，例如在该应用中大型仪器应当使用实体表单，而预约申请则应当使用事项表单。</p><p>我们在 <code>大型仪器共享</code> 目录下再创建一个目录 <code>实体表单</code>，在该目录下右击空白处创建实体表单。<br><img src="/../static/Pasted%20image%2020230814224744.png"></p><p>在表单的配置面板点击 <code>新增特性</code>，依次点击对应的目录，找到要新增的特性，这里我们选择：仪器名称、单位、仪器分类、仪器价值。<br><img src="/../static/Pasted%20image%2020230814225148.png"></p><p><img src="/../static/Pasted%20image%2020230814225254.png"></p><h1 id="创建事项表单"><a href="#创建事项表单" class="headerlink" title="创建事项表单"></a>创建事项表单</h1><p>与实体表单类似，我们同样在先创建一个事项目录，在目录下新建事项表单，并将 开始时间以及结束时间作为表单特性。<br><img src="/../static/Pasted%20image%2020230815135509.png"></p><h1 id="创建办事"><a href="#创建办事" class="headerlink" title="创建办事"></a>创建办事</h1><p>办事只能存在于应用下，我们先在空白处右击，点击 <code>新建更多&gt;新建应用</code>，命名为大型仪器共享<br><img src="/../static/Pasted%20image%2020230815110655.png"></p><p>双击应用后进入应用，再右击空白处，新建办事。<br><img src="/../static/Pasted%20image%2020230815110806.png"></p><p>将办事命名为 <code>仪器预约</code>，其余配置如下图所示：<br><img src="/../static/Pasted%20image%2020230815133907.png"></p><p>双击办事，进入办事设计页面，在起始节点处关联子表，将 <code>预约申请</code> 以及 <code>大型仪器</code> 表单设置为子表：<br><img src="/../static/Pasted%20image%2020230815134046.png"></p><p>在点击起始节点下方的加号，添加审批节点，在审批节点处添加审批对象管理员。<br><img src="/../static/Pasted%20image%2020230815134206.png"><br><img src="/../static/Pasted%20image%2020230815134218.png"></p><h1 id="发起办事"><a href="#发起办事" class="headerlink" title="发起办事"></a>发起办事</h1><p>自此，一个简单的应用示例就完成了，接下来我们来发起办事。先切换到 <code>储存</code> 页面下，进入到应用，找到 <code>仪器预约</code> 办事。<br><img src="/../static/Pasted%20image%2020230815134439.png"><br><img src="/../static/Pasted%20image%2020230815134746.png"></p><p>再双击打开办事，点击 <code>大型仪器</code> 表单的 <code>新增</code> 按钮，并填写仪器数据。<br><img src="/../static/Pasted%20image%2020230815134911.png"><br><img src="/../static/Pasted%20image%2020230815135110.png"></p><p>填写完毕后，点击 <code>预约申请</code> ，切换到 <code>预约申请</code> 子表，填写预约的开始时间和结束时间。<br><img src="/../static/Pasted%20image%2020230815135908.png"></p><p>点击提交后，办事流程会进入 <code>审批节点</code>，在管理员审批过后，数据才会存档，这一办事流程才会结束。<br>管理员切换到办事页面，会在看到一项待审批的办事<br><img src="/../static/Pasted%20image%2020230815140119.png"><br><img src="/../static/Pasted%20image%2020230815140212.png"></p><p>可以在此处查看办事发起人提交的信息，审核无误后，点击通过。<br><img src="/../static/Pasted%20image%2020230815140234.png"></p><p>之后在存储页面下，双击大型仪器表单，可以查看录入的仪器数据<br><img src="/../static/Pasted%20image%2020230814231140.png"><br><img src="/../static/Pasted%20image%2020230815140921.png"></p><p>预约申请事项表单只有两个字段，要想查看对应的仪器数据，应点击相应的记录查看归档痕迹，可以查看提交办事时一并提交的大型仪器子表。<br><img src="/../static/Pasted%20image%2020230815141110.png"></p><h1 id="通过导入标准快速配置"><a href="#通过导入标准快速配置" class="headerlink" title="通过导入标准快速配置"></a>通过导入标准快速配置</h1><p>以上的教程中，从创建属性到创建表单的流程略显繁琐，在表单数量众多，属性复杂庞大的情况下会让工作量异常巨大，可以借助 <code>导入标准</code> 功能简化工作流程。</p><p>在 <code>设置</code> 页面下，左键单位右侧的三个点，或是右击目录的空白处，再依次点击 <code>新建更多&gt;导入标准</code>。<br><img src="/../static/Pasted%20image%2020230814122702.png"></p><p>点击 <code>导入模板下载</code>：<br><img src="/../static/Pasted%20image%2020230814123057.png"></p><p>打开下载下来的模板 xlsx 文件，该模板文件有 8 张表，可以批量导入目录、字典、分类、属性和表单信息，下面我们拿属性定义为例<br><img src="/../static/Pasted%20image%2020230814123355.png"></p><p>例如，我们录入之前创建的属性信息：<br><img src="/../static/Pasted%20image%2020230814124350.png"></p><blockquote><p>目录代码是新创建的属性所属的目录，目录代码可右击目录点击 <code>详细信息</code> 获得。</p></blockquote><p>之后再右击目录空白处，依次点击 <code>新建更多&gt;导入标准</code> 选择文件上传，上传之后确认录入的信息即可：<br><img src="/../static/Pasted%20image%2020230814201621.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;本教程将引导你逐步实现一个简单的大型仪器预约应用，实现新增大型仪器以及对仪器进行预约申请。在此过程中你会学习到基于 orginone 平台进行应用开发的基本过程，同时又助于让你对 orginone 平台有更深入的理解。&lt;/p&gt;
&lt;h1 id=&quot;设置属性&quot;&gt;&lt;a href=&quot;</summary>
      
    
    
    
    <category term="orginone实习经历" scheme="https://coding.lilming.top/categories/orginone%E5%AE%9E%E4%B9%A0%E7%BB%8F%E5%8E%86/"/>
    
    
  </entry>
  
  <entry>
    <title>orginone——用户手册（沟通+存储+办事）</title>
    <link href="https://coding.lilming.top/2023/07/31/orginone%E5%AE%9E%E4%B9%A0%E7%BB%8F%E5%8E%86/orginone%E2%80%94%E2%80%94%E7%94%A8%E6%88%B7%E6%89%8B%E5%86%8C%EF%BC%88%E6%B2%9F%E9%80%9A+%E5%AD%98%E5%82%A8+%E5%8A%9E%E4%BA%8B%EF%BC%89/"/>
    <id>https://coding.lilming.top/2023/07/31/orginone%E5%AE%9E%E4%B9%A0%E7%BB%8F%E5%8E%86/orginone%E2%80%94%E2%80%94%E7%94%A8%E6%88%B7%E6%89%8B%E5%86%8C%EF%BC%88%E6%B2%9F%E9%80%9A+%E5%AD%98%E5%82%A8+%E5%8A%9E%E4%BA%8B%EF%BC%89/</id>
    <published>2023-07-31T05:38:00.000Z</published>
    <updated>2023-09-08T03:55:46.374Z</updated>
    
    <content type="html"><![CDATA[<h1 id="沟通模块"><a href="#沟通模块" class="headerlink" title="沟通模块"></a>沟通模块</h1><p>点击右上角的聊天图标，进入沟通页面</p><h2 id="群聊"><a href="#群聊" class="headerlink" title="群聊"></a>群聊</h2><p>用户可以在侧边栏中选择群聊，或者在列表中选择群聊，另外单位也可以作为群聊，属于全员群<br><img src="/../static/Pasted%20image%2020230731135535.png"><br>在单位和个人下存在着超级管理权群，单位下有着超级管理权的人员都会加入到该群。因为个人对自己有着最高的权限，个人页面下也会显示超级管理权群，且只有自己一人<br><img src="/../static/Pasted%20image%2020230731140654.png"><br>点击群聊图标，进入聊天页面之后即可开始聊天<br><img src="/../static/Pasted%20image%2020230731135745.png"></p><h2 id="单聊"><a href="#单聊" class="headerlink" title="单聊"></a>单聊</h2><p>同样在沟通页面下，点击个人的头像，则可显示好友以及个人，可以与好友或或者自己聊天<br><img src="/../static/Pasted%20image%2020230731140815.png"><br>在加入的组织下，可以查看和您处于同一组织的人员，并选择与同一组织的人员聊天<br><img src="/../static/Pasted%20image%2020230731141144.png"></p><h2 id="文件传输和存储"><a href="#文件传输和存储" class="headerlink" title="文件传输和存储"></a>文件传输和存储</h2><p>在聊天输入框的上方，点击文件图标即可选择文件上传<br><img src="/../static/Pasted%20image%2020230731141705.png"><br>上传的文件会在聊天框中显示，可以点击文件，打开并预览文件<br><img src="/../static/Pasted%20image%2020230731142029.png"><br>若是右击文件，还可以选择将文件下载到本地<br><img src="/../static/Pasted%20image%2020230731142253.png"><br>所有聊天时所发送的文件都会保存在存储中，用户可以点击共享目录在存储查看<br><img src="/../static/Pasted%20image%2020230731142513.png"><br><img src="/../static/Pasted%20image%2020230731142748.png"></p><h2 id="查询聊天记录"><a href="#查询聊天记录" class="headerlink" title="查询聊天记录"></a>查询聊天记录</h2><p>同样在聊天的详情下，点击查找聊天记录，在弹窗的搜索框中可以模糊搜索聊天记录<br><img src="/../static/Pasted%20image%2020230731143039.png"><br><img src="/../static/Pasted%20image%2020230731143207.png"></p><h1 id="存储模块"><a href="#存储模块" class="headerlink" title="存储模块"></a>存储模块</h1><h2 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a>文件上传</h2><p>点击右上角的存储图标，进入存储页面<br><img src="/../static/Pasted%20image%2020230731143526.png"><br>可以在侧边栏中右击目录，点击上传文件，在弹窗中选择上传文件，可以选择点击或拖拽的方式上传文件<br><img src="/../static/Pasted%20image%2020230731143500.png"><br><img src="/../static/Pasted%20image%2020230731143906.png"></p><h2 id="文件管理"><a href="#文件管理" class="headerlink" title="文件管理"></a>文件管理</h2><p>右击文件，可以对文件进行操作，如：下载，复制，剪切，彻底删除，重命名，查看详细信息，生成二维码等<br><img src="/../static/Pasted%20image%2020230731151057.png"></p><h1 id="办事模块"><a href="#办事模块" class="headerlink" title="办事模块"></a>办事模块</h1><h2 id="发起办事"><a href="#发起办事" class="headerlink" title="发起办事"></a>发起办事</h2><p>在存储页面中点击应用，可以在引用中查看办事<br><img src="/../static/Pasted%20image%2020230731152521.png"><br><img src="/../static/Pasted%20image%2020230731152546.png"><br>点击办事，填写表单信息即可<br><img src="/../static/Pasted%20image%2020230731152648.png"></p><h2 id="审核办事"><a href="#审核办事" class="headerlink" title="审核办事"></a>审核办事</h2><p>在您发起了一则办事之后，会在“我发起的”下显示该办事，并且可以实时查看审批状态<br><img src="/../static/Pasted%20image%2020230731153132.png"><br>若您是审批人，再他人发起了一则办事后，会在“待办事项”下显示需要审批的办事<br><img src="/../static/Pasted%20image%2020230731153018.png"><br>点击办事之后，会打开办事的审批页面，显示办事的详细信息，可以点击通过或驳回<br><img src="/../static/Pasted%20image%2020230731153759.png"><br>若您发起的办事审批结束，会在“已办事项”下显示已审批完毕的办事<br><img src="/../static/Pasted%20image%2020230731153520.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;沟通模块&quot;&gt;&lt;a href=&quot;#沟通模块&quot; class=&quot;headerlink&quot; title=&quot;沟通模块&quot;&gt;&lt;/a&gt;沟通模块&lt;/h1&gt;&lt;p&gt;点击右上角的聊天图标，进入沟通页面&lt;/p&gt;
&lt;h2 id=&quot;群聊&quot;&gt;&lt;a href=&quot;#群聊&quot; class=&quot;headerl</summary>
      
    
    
    
    <category term="orginone实习经历" scheme="https://coding.lilming.top/categories/orginone%E5%AE%9E%E4%B9%A0%E7%BB%8F%E5%8E%86/"/>
    
    
  </entry>
  
  <entry>
    <title>orginone平台解析——anystore的api</title>
    <link href="https://coding.lilming.top/2023/07/23/orginone%E5%AE%9E%E4%B9%A0%E7%BB%8F%E5%8E%86/orginone%E5%B9%B3%E5%8F%B0%E8%A7%A3%E6%9E%90%E2%80%94%E2%80%94anystore%E7%9A%84api/"/>
    <id>https://coding.lilming.top/2023/07/23/orginone%E5%AE%9E%E4%B9%A0%E7%BB%8F%E5%8E%86/orginone%E5%B9%B3%E5%8F%B0%E8%A7%A3%E6%9E%90%E2%80%94%E2%80%94anystore%E7%9A%84api/</id>
    <published>2023-07-23T04:04:00.000Z</published>
    <updated>2023-09-08T03:55:38.825Z</updated>
    
    <content type="html"><![CDATA[<h1 id="AnyStore-类"><a href="#AnyStore-类" class="headerlink" title="AnyStore 类"></a>AnyStore 类</h1><h2 id="getInstance"><a href="#getInstance" class="headerlink" title="getInstance"></a>getInstance</h2><p>获取任意数据存储单例。</p><p><strong>请求方式</strong>：Post</p><p><strong>参数</strong>：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;methodName&quot;</span><span class="punctuation">:</span><span class="string">&quot;getInstance&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">&quot;url&quot;</span><span class="punctuation">:</span> string<span class="punctuation">,</span><span class="comment">//远端地址，默认为&quot;/orginone/anydata/hub&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;timeout&quot;</span><span class="punctuation">:</span><span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="isOnline"><a href="#isOnline" class="headerlink" title="isOnline"></a>isOnline</h2><p>判断是否在线。</p><p><strong>请求方式</strong>：Post</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;methodName&quot;</span><span class="punctuation">:</span><span class="string">&quot;isOnline&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">        <span class="comment">//无参数</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;timeout&quot;</span><span class="punctuation">:</span><span class="number">2</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="updateToken"><a href="#updateToken" class="headerlink" title="updateToken"></a>updateToken</h2><p>更新 token。</p><p><strong>请求方式</strong>：Post</p><p><strong>参数</strong>：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;methodName&quot;</span><span class="punctuation">:</span><span class="string">&quot;updateToken&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;accessToken&quot;</span><span class="punctuation">:</span> string</span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;timeout&quot;</span><span class="punctuation">:</span><span class="number">2</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="subscribed"><a href="#subscribed" class="headerlink" title="subscribed"></a>subscribed</h2><p>订阅对象变更。</p><p><strong>请求方式</strong>：Post</p><p><strong>参数</strong>：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;methodName&quot;</span><span class="punctuation">:</span><span class="string">&quot;subscribed&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;belongId&quot;</span><span class="punctuation">:</span> string<span class="punctuation">,</span><span class="comment">//对象所在域</span></span><br><span class="line">        <span class="attr">&quot;key&quot;</span><span class="punctuation">:</span> string<span class="punctuation">,</span><span class="comment">//对象名称</span></span><br><span class="line">        <span class="attr">&quot;callback&quot;</span><span class="punctuation">:</span> (data<span class="punctuation">:</span> any) =&gt; void<span class="comment">//变更回调函数</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;timeout&quot;</span><span class="punctuation">:</span><span class="number">2</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="unSubscribed"><a href="#unSubscribed" class="headerlink" title="unSubscribed"></a>unSubscribed</h2><p>取消订阅对象变更。</p><p><strong>请求方式</strong>：Post</p><p><strong>参数</strong>：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;methodName&quot;</span><span class="punctuation">:</span><span class="string">&quot;unSubscribed&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;belongId&quot;</span><span class="punctuation">:</span> string<span class="punctuation">,</span><span class="comment">//对象所在域</span></span><br><span class="line">        <span class="attr">&quot;key&quot;</span><span class="punctuation">:</span> string<span class="punctuation">,</span><span class="comment">//对象名称</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;timeout&quot;</span><span class="punctuation">:</span><span class="number">2</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="get"><a href="#get" class="headerlink" title="get"></a>get</h2><p>查询对象。</p><p><strong>请求地址</strong>：’&#x2F;orginone&#x2F;anydata&#x2F;Object&#x2F;Get&#x2F;‘</p><p><strong>请求方式</strong>：Post</p><p><strong>参数</strong>：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;methodName&quot;</span><span class="punctuation">:</span><span class="string">&quot;get&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;belongId&quot;</span><span class="punctuation">:</span> string<span class="punctuation">,</span><span class="comment">//对象所在域</span></span><br><span class="line">        <span class="attr">&quot;key&quot;</span><span class="punctuation">:</span> string<span class="punctuation">,</span><span class="comment">//对象名称</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;timeout&quot;</span><span class="punctuation">:</span><span class="number">2</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="set"><a href="#set" class="headerlink" title="set"></a>set</h2><p>修改对象。</p><p><strong>请求地址</strong>：’&#x2F;orginone&#x2F;anydata&#x2F;Object&#x2F;Set&#x2F;‘</p><p><strong>请求方式</strong>：Post</p><p><strong>参数</strong>：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;methodName&quot;</span><span class="punctuation">:</span><span class="string">&quot;set&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;belongId&quot;</span><span class="punctuation">:</span> string<span class="punctuation">,</span><span class="comment">//对象所在域</span></span><br><span class="line">        <span class="attr">&quot;key&quot;</span><span class="punctuation">:</span> string<span class="punctuation">,</span><span class="comment">//对象名称</span></span><br><span class="line">        <span class="attr">&quot;setData&quot;</span><span class="punctuation">:</span> any<span class="punctuation">,</span><span class="comment">//对象新的值</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;timeout&quot;</span><span class="punctuation">:</span><span class="number">2</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="delete"><a href="#delete" class="headerlink" title="delete"></a>delete</h2><p>删除对象。 </p><p><strong>请求地址</strong>：’&#x2F;orginone&#x2F;anydata&#x2F;Object&#x2F;Delete&#x2F;‘</p><p><strong>请求方式</strong>：Post</p><p><strong>参数</strong>：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;methodName&quot;</span><span class="punctuation">:</span><span class="string">&quot;delete&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;belongId&quot;</span><span class="punctuation">:</span> string<span class="punctuation">,</span><span class="comment">//对象所在域</span></span><br><span class="line">        <span class="attr">&quot;key&quot;</span><span class="punctuation">:</span> string<span class="punctuation">,</span><span class="comment">//对象名称</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;timeout&quot;</span><span class="punctuation">:</span><span class="number">2</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="insert"><a href="#insert" class="headerlink" title="insert"></a>insert</h2><p>添加数据到数据集。</p><p><strong>请求地址</strong>：’&#x2F;orginone&#x2F;anydata&#x2F;Collection&#x2F;Update&#x2F;‘</p><p><strong>请求方式</strong>：Post</p><p><strong>参数</strong>：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;methodName&quot;</span><span class="punctuation">:</span><span class="string">&quot;insert&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;belongId&quot;</span><span class="punctuation">:</span> string<span class="punctuation">,</span><span class="comment">//对象所在域</span></span><br><span class="line">        <span class="attr">&quot;collName&quot;</span><span class="punctuation">:</span> string<span class="punctuation">,</span><span class="comment">//数据集名称</span></span><br><span class="line">        <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> any<span class="punctuation">,</span><span class="comment">//要添加的数据，对象/数组</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;timeout&quot;</span><span class="punctuation">:</span><span class="number">2</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="update"><a href="#update" class="headerlink" title="update"></a>update</h2><p>更新数据到数据集。</p><p><strong>请求地址</strong>：’&#x2F;orginone&#x2F;anydata&#x2F;Collection&#x2F;Update&#x2F;‘</p><p><strong>请求方式</strong>：Post</p><p><strong>参数</strong>：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;methodName&quot;</span><span class="punctuation">:</span><span class="string">&quot;update&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;belongId&quot;</span><span class="punctuation">:</span> string<span class="punctuation">,</span><span class="comment">//对象所在域</span></span><br><span class="line">        <span class="attr">&quot;collName&quot;</span><span class="punctuation">:</span> string<span class="punctuation">,</span><span class="comment">//数据集名称</span></span><br><span class="line">        <span class="attr">&quot;update&quot;</span><span class="punctuation">:</span> any<span class="punctuation">,</span><span class="comment">//更新操作（match匹配，update变更,options参数）</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;timeout&quot;</span><span class="punctuation">:</span><span class="number">2</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="remove"><a href="#remove" class="headerlink" title="remove"></a>remove</h2><p>从数据集移除数据。</p><p><strong>请求地址</strong>：’&#x2F;orginone&#x2F;anydata&#x2F;Collection&#x2F;Remove&#x2F;‘</p><p><strong>请求方式</strong>：Post</p><p><strong>参数</strong>：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;methodName&quot;</span><span class="punctuation">:</span><span class="string">&quot;remove&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;belongId&quot;</span><span class="punctuation">:</span> string<span class="punctuation">,</span><span class="comment">//对象所在域</span></span><br><span class="line">        <span class="attr">&quot;collName&quot;</span><span class="punctuation">:</span> string<span class="punctuation">,</span><span class="comment">//数据集名称</span></span><br><span class="line">        <span class="attr">&quot;match&quot;</span><span class="punctuation">:</span> any<span class="punctuation">,</span><span class="comment">//匹配信息</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;timeout&quot;</span><span class="punctuation">:</span><span class="number">2</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="aggregate"><a href="#aggregate" class="headerlink" title="aggregate"></a>aggregate</h2><p>从数据集查询数据。</p><p><strong>请求地址</strong>：’&#x2F;orginone&#x2F;anydata&#x2F;Collection&#x2F;Aggregate&#x2F;‘</p><p><strong>请求方式</strong>：Post</p><p><strong>参数</strong>：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;methodName&quot;</span><span class="punctuation">:</span><span class="string">&quot;aggregate&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;belongId&quot;</span><span class="punctuation">:</span> string<span class="punctuation">,</span><span class="comment">//对象所在域</span></span><br><span class="line">        <span class="attr">&quot;collName&quot;</span><span class="punctuation">:</span> string<span class="punctuation">,</span><span class="comment">//数据集名称</span></span><br><span class="line">        <span class="attr">&quot;options&quot;</span><span class="punctuation">:</span> any<span class="punctuation">,</span><span class="comment">//聚合管道(例如：&#123;match:&#123;a:1&#125;,skip:10,limit:10&#125;)</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;timeout&quot;</span><span class="punctuation">:</span><span class="number">2</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="pageRequest"><a href="#pageRequest" class="headerlink" title="pageRequest"></a>pageRequest</h2><p>从数据集查询数据并进行分页。</p><p><strong>请求方式</strong>：Post</p><p><strong>参数</strong>：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;methodName&quot;</span><span class="punctuation">:</span><span class="string">&quot;pageRequest&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;belongId&quot;</span><span class="punctuation">:</span> string<span class="punctuation">,</span><span class="comment">//对象所在域</span></span><br><span class="line">        <span class="attr">&quot;collName&quot;</span><span class="punctuation">:</span> string<span class="punctuation">,</span><span class="comment">//数据集名称</span></span><br><span class="line">        <span class="attr">&quot;options&quot;</span><span class="punctuation">:</span> any<span class="punctuation">,</span><span class="comment">//聚合管道(例如：&#123;match:&#123;a:1&#125;,skip:10,limit:10&#125;)</span></span><br><span class="line">        <span class="attr">&quot;page&quot;</span><span class="punctuation">:</span> PageModel <span class="comment">//分页模型</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;timeout&quot;</span><span class="punctuation">:</span><span class="number">2</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="bucketOpreate"><a href="#bucketOpreate" class="headerlink" title="bucketOpreate"></a>bucketOpreate</h2><p>进行桶操作。</p><p><strong>请求地址</strong>：’&#x2F;orginone&#x2F;anydata&#x2F;Bucket&#x2F;Operate&#x2F;‘</p><p><strong>请求方式</strong>：Post</p><p><strong>参数</strong>：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;methodName&quot;</span><span class="punctuation">:</span><span class="string">&quot;bucketOpreate&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;belongId&quot;</span><span class="punctuation">:</span> string<span class="punctuation">,</span><span class="comment">//对象所在域</span></span><br><span class="line">        <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> BucketOpreateModel<span class="punctuation">,</span><span class="comment">//桶操作模型</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;timeout&quot;</span><span class="punctuation">:</span><span class="number">2</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="fileUpdate"><a href="#fileUpdate" class="headerlink" title="fileUpdate"></a>fileUpdate</h2><p>文件上传。</p><p><strong>请求地址</strong>：’&#x2F;orginone&#x2F;anydata&#x2F;Bucket&#x2F;Operate&#x2F;‘</p><p><strong>请求方式</strong>：Post</p><p><strong>参数</strong>：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;methodName&quot;</span><span class="punctuation">:</span><span class="string">&quot;fileUpdateOpreate&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;belongId&quot;</span><span class="punctuation">:</span> string<span class="punctuation">,</span><span class="comment">//对象所在域</span></span><br><span class="line">        <span class="attr">&quot;file&quot;</span><span class="punctuation">:</span> Blob<span class="punctuation">,</span><span class="comment">//要上传的文件</span></span><br><span class="line">        <span class="attr">&quot;key&quot;</span><span class="punctuation">:</span> string<span class="punctuation">,</span><span class="comment">//文件的路径</span></span><br><span class="line">        <span class="attr">&quot;progress&quot;</span><span class="punctuation">:</span> ProgressEvent<span class="comment">//进度事件</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;timeout&quot;</span><span class="punctuation">:</span><span class="number">2</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="loadThing"><a href="#loadThing" class="headerlink" title="loadThing"></a>loadThing</h2><p>加载数据。</p><p><strong>请求地址</strong>：’&#x2F;orginone&#x2F;anydata&#x2F;Thing&#x2F;Load&#x2F;‘</p><p><strong>请求方式</strong>：Post</p><p><strong>参数</strong>：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;methodName&quot;</span><span class="punctuation">:</span><span class="string">&quot;loadThing&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;belongId&quot;</span><span class="punctuation">:</span> string<span class="punctuation">,</span><span class="comment">//对象所在域</span></span><br><span class="line">        <span class="attr">&quot;options&quot;</span><span class="punctuation">:</span> any<span class="comment">//加载选项</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;timeout&quot;</span><span class="punctuation">:</span><span class="number">2</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="createThing"><a href="#createThing" class="headerlink" title="createThing"></a>createThing</h2><p>创建数据。</p><p><strong>请求地址</strong>：’&#x2F;orginone&#x2F;anydata&#x2F;Thing&#x2F;Create&#x2F;‘</p><p><strong>请求方式</strong>：Post</p><p><strong>参数</strong>：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;methodName&quot;</span><span class="punctuation">:</span><span class="string">&quot;createThing&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;belongId&quot;</span><span class="punctuation">:</span> string<span class="punctuation">,</span><span class="comment">//对象所在域</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> string<span class="comment">//数据名称</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;timeout&quot;</span><span class="punctuation">:</span><span class="number">2</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;AnyStore-类&quot;&gt;&lt;a href=&quot;#AnyStore-类&quot; class=&quot;headerlink&quot; title=&quot;AnyStore 类&quot;&gt;&lt;/a&gt;AnyStore 类&lt;/h1&gt;&lt;h2 id=&quot;getInstance&quot;&gt;&lt;a href=&quot;#getInstanc</summary>
      
    
    
    
    <category term="orginone实习经历" scheme="https://coding.lilming.top/categories/orginone%E5%AE%9E%E4%B9%A0%E7%BB%8F%E5%8E%86/"/>
    
    
  </entry>
  
  <entry>
    <title>orginone平台解析——沟通和储存</title>
    <link href="https://coding.lilming.top/2023/07/18/orginone%E5%AE%9E%E4%B9%A0%E7%BB%8F%E5%8E%86/orginone%E5%B9%B3%E5%8F%B0%E8%A7%A3%E6%9E%90%E2%80%94%E2%80%94%E6%B2%9F%E9%80%9A%E5%92%8C%E5%82%A8%E5%AD%98/"/>
    <id>https://coding.lilming.top/2023/07/18/orginone%E5%AE%9E%E4%B9%A0%E7%BB%8F%E5%8E%86/orginone%E5%B9%B3%E5%8F%B0%E8%A7%A3%E6%9E%90%E2%80%94%E2%80%94%E6%B2%9F%E9%80%9A%E5%92%8C%E5%82%A8%E5%AD%98/</id>
    <published>2023-07-18T01:49:00.000Z</published>
    <updated>2023-09-08T03:55:41.687Z</updated>
    
    <content type="html"><![CDATA[<h1 id="沟通模块"><a href="#沟通模块" class="headerlink" title="沟通模块"></a>沟通模块</h1><p>奥集能平台的聊天模块提供用户在群聊和单聊中进行自由沟通的功能。此外，也支持文件和聊天记录的储存以及查询。以下是详细的功能描述：</p><ol><li><p>群聊功能<br>用户可以在群聊中与多名用户同时进行聊天，实现集体讨论与交流。群聊功能非常适合处理工作协调、团队讨论等多人参与的情况。</p></li><li><p>单聊功能<br>若用户希望与单位下的特定成员进行一对一的沟通，可以使用单聊功能。这个功能可以帮助用户进行更为私密或者针对性的交流。</p></li><li><p>文件传输<br>在聊天过程中，用户可以发送各类文件给其他用户，该文件传输功能支持多种常见的文件格式，如文档、图片、音频、视频等，并且传输的所有文件可在共享文件中查看和下载。</p></li><li><p>聊天记录储存功能<br>所有的聊天记录都将储存在数据内核中，用户可以根据关键词查找并定位到对应的聊天记录</p></li></ol><p>从用户发送消息，再到接收方显示消息的具体时序图如下：<br><img src="/../static/Pasted%20image%2020230719131959.png"></p><h1 id="储存模块"><a href="#储存模块" class="headerlink" title="储存模块"></a>储存模块</h1><p>奥集能平台的储存模块秉承Linux系统中一切皆文件的概念，将平台所有的对象都抽象成了文件，包括单位、群组、用户、办事等。用户可以在储存模块下上传文件，并且支持多种常见文件格式的打开，为用户提供了一种简洁而统一的资源管理方式。以下是详细的功能描述：</p><ol><li><p>文件化抽象<br>储存模块将所有的对象都抽象为文件，这包括但不限于单位、群组、用户、办事等。这种文件化的抽象使得用户可以采用统一的方式处理和管理各种对象，大大简化了操作过程。</p></li><li><p>文件上传<br>用户可以在储存模块下上传文件，无论是文档、图片还是音频、视频等各种类型的文件。上传后的文件将以文件的形式保存在储存模块中，方便用户在需要时进行查阅和使用。</p></li><li><p>文件打开<br>储存模块支持打开多种常见的文件格式，包括但不限于 PDF、DOC、XLS、JPG、PNG、MP3、MP4等。用户上传的文件无需转换格式，直接上传后即可在平台上打开和查看。</p></li><li><p>文件管理<br>用户可以对上传的文件进行管理，包括查看文件详情、修改文件信息、删除文件等。同时，用户也可以对单位、群组、用户、办事等抽象成文件的对象进行类似的管理操作。</p></li></ol><p>从用户上传文件，查看文件的具体时序图如下：</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;沟通模块&quot;&gt;&lt;a href=&quot;#沟通模块&quot; class=&quot;headerlink&quot; title=&quot;沟通模块&quot;&gt;&lt;/a&gt;沟通模块&lt;/h1&gt;&lt;p&gt;奥集能平台的聊天模块提供用户在群聊和单聊中进行自由沟通的功能。此外，也支持文件和聊天记录的储存以及查询。以下是详细的功能描述</summary>
      
    
    
    
    <category term="orginone实习经历" scheme="https://coding.lilming.top/categories/orginone%E5%AE%9E%E4%B9%A0%E7%BB%8F%E5%8E%86/"/>
    
    
  </entry>
  
  <entry>
    <title>python爬虫----Requests库</title>
    <link href="https://coding.lilming.top/2023/07/17/Python%E7%88%AC%E8%99%AB/python%E7%88%AC%E8%99%AB----Requests%E5%BA%93/"/>
    <id>https://coding.lilming.top/2023/07/17/Python%E7%88%AC%E8%99%AB/python%E7%88%AC%E8%99%AB----Requests%E5%BA%93/</id>
    <published>2023-07-17T01:34:56.000Z</published>
    <updated>2023-07-17T01:34:58.225Z</updated>
    
    <content type="html"><![CDATA[<p><a name="6b474650"></a></p><h1 id="requests库的基本使用"><a href="#requests库的基本使用" class="headerlink" title="requests库的基本使用"></a>requests库的基本使用</h1><p><a name="c85ab9d3"></a></p><h2 id="response对象"><a href="#response对象" class="headerlink" title="response对象"></a>response对象</h2><p><a name="44a3f242"></a></p><h3 id="对象属性"><a href="#对象属性" class="headerlink" title="对象属性"></a>对象属性</h3><ul><li>r.status_code HTTP请求的返回状态，200表示连接成功，404表示失败</li><li>r.text HTTP响应内容的字符串形式，即，url对应的页面内容</li><li>r.encoding 从HTTPheader中猜测的响应内容编码方式</li><li>r.apparent_encoding 从内容中分析出的响应内容编码方式（备选编码方式）</li><li>r.content HTTP响应内容的二进制形式</li></ul><p><a name="e449cf10"></a></p><h2 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h2><ul><li>requests.ConnectionError 网络连接错误异常，如DNS查询失败、拒绝连接等</li><li>requests.HTTPError HTTP错误异常</li><li>requests.URLRequired URL缺失异常</li><li>requests.TooManyRedirects 超过最大重定向次数，产生重定向异常</li><li>requests.ConnectTimeout 连接远程服务器超时异常</li><li>requests.Timeout 请求URL超时，产生超时异常</li></ul><p><a name="r.status_code"></a></p><h3 id="r-status-code"><a href="#r-status-code" class="headerlink" title="r.status_code"></a>r.status_code</h3><p>r.raise_for_status()在方法内部判断r.status_code是否等于200，不需要<br />增加额外的if语句，该语句便于利用try‐except进行异常处理</p><p><a name="162ddc62"></a></p><h2 id="主要方法"><a href="#主要方法" class="headerlink" title="主要方法"></a>主要方法</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">requests.request()  #支持以下的所有方法，如第一个参数设置为&quot;Get&quot;</span><br><span class="line">requests.get()      #获取HTML网页的所有信息</span><br><span class="line">requests.head()     #获取HTML网页的头部信息</span><br><span class="line">requests.post()     #提交post请求，发送资源</span><br><span class="line">requests.put()      #提交put请求，会替换掉原有的资源</span><br><span class="line">requests.patch()    #提交局部修改请求</span><br><span class="line">requests.delete()   #提交删除请求</span><br></pre></td></tr></table></figure><ul><li>下面以requests.request()为例，介绍所有参数的使用</li><li>requests.request(method,url,**kwargs)</li></ul><p><a name="5f06bad4"></a></p><h3 id="method参数"><a href="#method参数" class="headerlink" title="method参数"></a>method参数</h3><p>对应请求方法有七种，和requests库的其他方法功能一致<br />除了上面的六中之外还有OPTIONS请求方法</p><p><a name="2b0eac5b"></a></p><h3 id="url参数"><a href="#url参数" class="headerlink" title="url参数"></a>url参数</h3><p>网站url地址</p><p><a name="bb92f887"></a></p><h3 id="kwargs（表示可选）"><a href="#kwargs（表示可选）" class="headerlink" title="kwargs（表示可选）"></a><strong>kwargs（</strong>表示可选）</h3><ul><li>params将键值对增加到url</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">kv = &#123;&#x27;key1&#x27;: &#x27;value1&#x27;, &#x27;key2&#x27;: &#x27;value2&#x27;&#125;</span><br><span class="line">r = requests.request(&#x27;GET&#x27;, &#x27;http://python123.io/ws&#x27;, params=kv)</span><br><span class="line">print(r.url)</span><br><span class="line">#http://python123.io/ws?key1=value1&amp;key2=value2</span><br></pre></td></tr></table></figure><ul><li>data将字典、字节序列或文件对象作为request的对象</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">kv = &#123;&quot;key1&quot;:&quot;value1&quot;,&quot;key2&quot;:&quot;value2&quot;&#125;</span><br><span class="line">r = request.request(&quot;POST&quot;,&quot;http://pythton123.io/ws&quot;,data=kv)</span><br><span class="line">body = &quot;主体内容&quot;</span><br><span class="line">r = request.request(&quot;POST&quot;,&quot;http://pythton123.io/ws&quot;,data=body)</span><br></pre></td></tr></table></figure><ul><li>json将JSON格式的数据作为requests的内容</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kv = &#123;&quot;key1&quot;:&quot;value1&quot;,&quot;key2&quot;:&quot;value2&quot;&#125;</span><br><span class="line">r = request.request(&quot;POST&quot;,&quot;http://pythton123.io/ws&quot;,json=kv)</span><br></pre></td></tr></table></figure><ul><li>headers定制HTTP头部中的内容</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hd = &#123;&#x27;user‐agent&#x27;: &#x27;Chrome/10&#x27;&#125;</span><br><span class="line">r = requests.request(&#x27;POST&#x27;, &#x27;http://python123.io/ws&#x27;, headers=hd)</span><br></pre></td></tr></table></figure><ul><li>cookies</li><li>files字典类型，传输文件，值要用open()函数</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fs = &#123;&#x27;file&#x27;: open(&#x27;data.xls&#x27;, &#x27;rb&#x27;)&#125;</span><br><span class="line">r = requests.request(&#x27;POST&#x27;, &#x27;http://python123.io/ws&#x27;, files=fs)</span><br></pre></td></tr></table></figure><ul><li>auth</li><li>timeout超时设置(秒为单位)</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">r = requests.request(&#x27;GET&#x27;, &#x27;http://www.baidu.com&#x27;, timeout=10)</span><br></pre></td></tr></table></figure><ul><li>proxies字典类型设定代理服务器</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pxs = &#123; &#x27;http&#x27;: &#x27;http://user:pass@10.10.10.1:1234&#x27;</span><br><span class="line">&#x27;https&#x27;: &#x27;https://10.10.10.1:4321&#x27; &#125;</span><br><span class="line">r = requests.request(&#x27;GET&#x27;, &#x27;http://www.baidu.com&#x27;, proxies=pxs)</span><br></pre></td></tr></table></figure><ul><li>allow_redirects :True&#x2F;False，默认为True，重定向开关</li><li>stream:True&#x2F;False，默认为True，获取内容立即下载开关</li><li>verify:True&#x2F;False，默认为True，认证SSL证书开关</li><li>cert:本地SSL证书路径</li></ul><p><a name="d2424c30"></a></p><h2 id="爬虫的通用框架"><a href="#爬虫的通用框架" class="headerlink" title="爬虫的通用框架"></a>爬虫的通用框架</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line">def getHtmlText(url):</span><br><span class="line">    try:</span><br><span class="line">        r = requests.get(url,timeout=30)</span><br><span class="line">        r.raise_for_status()</span><br><span class="line">        r.encoding = r.apparent_encoding()</span><br><span class="line">        return r.text</span><br><span class="line">    except:</span><br><span class="line">        return &quot;产生异常&quot;</span><br><span class="line">if __name__==&quot;__main__&quot;:</span><br><span class="line">    url = &quot;http://www.baidu.com&quot;</span><br><span class="line">    print(getHtmlText(url))</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a name=&quot;6b474650&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;requests库的基本使用&quot;&gt;&lt;a href=&quot;#requests库的基本使用&quot; class=&quot;headerlink&quot; title=&quot;requests库的基本使用&quot;&gt;&lt;/a&gt;requests库的基本使</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>python爬虫----BeautifulSoup库</title>
    <link href="https://coding.lilming.top/2023/07/17/Python%E7%88%AC%E8%99%AB/python%E7%88%AC%E8%99%AB----BeautifulSoup%E5%BA%93/"/>
    <id>https://coding.lilming.top/2023/07/17/Python%E7%88%AC%E8%99%AB/python%E7%88%AC%E8%99%AB----BeautifulSoup%E5%BA%93/</id>
    <published>2023-07-17T01:34:53.000Z</published>
    <updated>2023-07-17T01:34:54.448Z</updated>
    
    <content type="html"><![CDATA[<p><a name="c024c16d"></a></p><h1 id="导入beautifulsoup"><a href="#导入beautifulsoup" class="headerlink" title="导入beautifulsoup"></a>导入beautifulsoup</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">from bs4 import BeautifulSoup</span><br></pre></td></tr></table></figure><p><a name="063d6819"></a></p><h1 id="beautifulsoup方法"><a href="#beautifulsoup方法" class="headerlink" title="beautifulsoup方法"></a>beautifulsoup方法</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">soup = BeautifulSoup(&quot;&lt;p&gt;date&lt;/p&gt;&quot;,&quot;html.parser&quot;)</span><br><span class="line">soup = BeautifulSoup(open(&quot;D://demo.html&quot;),&quot;html.parser&quot;)</span><br></pre></td></tr></table></figure><ul><li>第一个参数是利用requests库得到的网页全代码，可以是字符串也可以是HTML文件</li><li>第二个参数是选择解析这段HTML代码的解释器</li><li>最后会得到一个能代表HTML标签树的一个实例</li><li>也可以理解为标签的集合</li></ul><p><a name="38ed9afc"></a></p><h1 id="beautifulsoup库的基本元素"><a href="#beautifulsoup库的基本元素" class="headerlink" title="beautifulsoup库的基本元素"></a>beautifulsoup库的基本元素</h1><p><a name="def47dff"></a></p><h2 id="所有的bs4库的解析器"><a href="#所有的bs4库的解析器" class="headerlink" title="所有的bs4库的解析器"></a>所有的bs4库的解析器</h2><ul><li>lxml的HTML解析器<br />条件：pip install lmxl<br />使用方法：BeautifulSoup(mk,”lmxl”)</li><li>lmxl的XML解析器<br />条件：pip install lxml<br />使用方法：BeautifulSoup(mk,”xml”)</li><li>html5lib的解析器<br />条件：pip install html5lib<br />使用条件：BeautifulSoup(mk,”html5lib”)</li></ul><p><a name="61a7d4f4"></a></p><h2 id="标签的有关元素"><a href="#标签的有关元素" class="headerlink" title="标签的有关元素"></a>标签的有关元素</h2><ul><li><p>Tag标签，最基本的信息组织元素，用&lt;&gt;和&lt;&#x2F;&gt;表明开头和结尾</p></li><li><p>Name标签的名称，如…的名称就是head</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">soup.a.name #a</span><br><span class="line">soup.a.parent.name #div</span><br></pre></td></tr></table></figure><ul><li>Attributes标签的属性，字典类型</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">soup.a.attrs </span><br><span class="line"># &#123;&#x27;class&#x27;: [&#x27;navbar-brand&#x27;], &#x27;href&#x27;: &#x27;http://www.daidaitiantian.top/&#x27;&#125;</span><br></pre></td></tr></table></figure><ul><li>NavigableString&lt;&gt;…&lt;&#x2F;&gt;中间的字符串</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">soup.a.string</span><br><span class="line">#呆呆和甜甜</span><br></pre></td></tr></table></figure><ul><li>Comment注释类型</li></ul><p><a name="a4a23c11"></a></p><h1 id="遍历HTML的方法"><a href="#遍历HTML的方法" class="headerlink" title="遍历HTML的方法"></a>遍历HTML的方法</h1><p><a name="533ecbae"></a></p><h2 id="标签数的遍历方式"><a href="#标签数的遍历方式" class="headerlink" title="标签数的遍历方式"></a>标签数的遍历方式</h2><p><img src="http://note.youdao.com/yws/res/648/WEBRESOURCE8a9147bbf0b0ce3a208671adaf22bbbd#crop=0&crop=0&crop=1&crop=1&id=Wiso8&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title="></p><p><a name="dbfbb788"></a></p><h2 id="下行遍历"><a href="#下行遍历" class="headerlink" title="下行遍历"></a>下行遍历</h2><ul><li>contents子节点的列表，将所有子节点存入列表</li><li>children子节点的迭代类型，与contents类似用于遍历子节点</li><li>descendants子孙节点的迭代类型，用于循环遍历</li></ul><p><a name="ede05cbe"></a></p><h2 id="上行遍历"><a href="#上行遍历" class="headerlink" title="上行遍历"></a>上行遍历</h2><ul><li>parent节点的父标签</li><li>parents节点先辈标签的迭代类型，用于遍历</li></ul><p><a name="b57148a0"></a></p><h2 id="平行遍历"><a href="#平行遍历" class="headerlink" title="平行遍历"></a>平行遍历</h2><ul><li>next_sibling下一个平行节点的标签</li><li>previous_sibling上一平行节点的标签</li><li>next_sblings后续所有平行节点的迭代类型</li><li>previous_sblinga前面所有平行节点的迭代类型<br />不是同一父节点下的标签不是平行关系<br />有可能返回的是NavigableString属性，后面会介绍排除的方法</li></ul><p><a name="ff1aba7d"></a></p><h1 id="HTML格式输出和编码"><a href="#HTML格式输出和编码" class="headerlink" title="HTML格式输出和编码"></a>HTML格式输出和编码</h1><ul><li>prettify()能够格式化输出Html内容</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">soup = beautifulsoup(&quot;&lt;p&gt;呆呆和甜甜&lt;/p&gt;&quot;，&quot;html.parser&quot;)</span><br><span class="line">print(soup.p.prettify)</span><br><span class="line"># &lt;p&gt;</span><br><span class="line">#   呆呆和甜甜</span><br><span class="line"># &lt;/p&gt;</span><br></pre></td></tr></table></figure><p><a name="f359139e"></a></p><h1 id="lt-gt-find-all"><a href="#lt-gt-find-all" class="headerlink" title="&lt;&gt;.find_all()"></a>&lt;&gt;.find_all()</h1><ul><li>返回的是一个列表</li></ul><p><a name="3d0a2df9"></a></p><h2 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h2><p><a name="9ee23a89"></a></p><h3 id="name需要检索的标签名字符串"><a href="#name需要检索的标签名字符串" class="headerlink" title="name需要检索的标签名字符串"></a>name需要检索的标签名字符串</h3><ul><li>如果是True则打印所有标签</li><li>要打印多个标签可使用列表</li></ul><p><a name="19e3b452"></a></p><h3 id="attrs标签属性检索字符串"><a href="#attrs标签属性检索字符串" class="headerlink" title="attrs标签属性检索字符串"></a>attrs标签属性检索字符串</h3><ul><li>也可以对一个特定的属性值进行检索<br />要加下划线，如：class_</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">soup.find_all(id_ = &quot;link&quot;)</span><br><span class="line"># 搜索出属性包含id= link的标签</span><br></pre></td></tr></table></figure><p><a name="ad73f43f"></a></p><h3 id="recursive-是否对子孙全部检索，默认是True"><a href="#recursive-是否对子孙全部检索，默认是True" class="headerlink" title="recursive 是否对子孙全部检索，默认是True"></a>recursive 是否对子孙全部检索，默认是True</h3><p><a name="e3c2dd0a"></a></p><h3 id="srting对-lt-gt-…-lt-x2F-gt-中间的内容进行检索"><a href="#srting对-lt-gt-…-lt-x2F-gt-中间的内容进行检索" class="headerlink" title="srting对&lt;&gt;…&lt;&#x2F;&gt;中间的内容进行检索"></a>srting对&lt;&gt;…&lt;&#x2F;&gt;中间的内容进行检索</h3><p><a name="d8771b35"></a></p><h2 id="find——all的简写形式"><a href="#find——all的简写形式" class="headerlink" title="find——all的简写形式"></a>find——all的简写形式</h2><ul><li>() &#x3D;&#x3D;.find_all()</li><li>soup() &#x3D;&#x3D; soup.find_all()</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a name=&quot;c024c16d&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;导入beautifulsoup&quot;&gt;&lt;a href=&quot;#导入beautifulsoup&quot; class=&quot;headerlink&quot; title=&quot;导入beautifulsoup&quot;&gt;&lt;/a&gt;导入beautifu</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>JAVA基础速查速记</title>
    <link href="https://coding.lilming.top/2023/07/13/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80%E7%9F%A5%E8%AF%86%E5%BA%93/JAVA%E5%9F%BA%E7%A1%80%E9%80%9F%E6%9F%A5%E9%80%9F%E8%AE%B0/"/>
    <id>https://coding.lilming.top/2023/07/13/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80%E7%9F%A5%E8%AF%86%E5%BA%93/JAVA%E5%9F%BA%E7%A1%80%E9%80%9F%E6%9F%A5%E9%80%9F%E8%AE%B0/</id>
    <published>2023-07-13T01:56:00.000Z</published>
    <updated>2023-09-08T03:58:50.251Z</updated>
    
    <content type="html"><![CDATA[<h1 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h1><h2 id="内置类型和包装类"><a href="#内置类型和包装类" class="headerlink" title="内置类型和包装类"></a>内置类型和包装类</h2><table><thead><tr><th>包装类</th><th>基本数据类型</th></tr></thead><tbody><tr><td>Boolean</td><td>boolean</td></tr><tr><td>Byte</td><td>byte</td></tr><tr><td>Short</td><td>short</td></tr><tr><td>Integer</td><td>int</td></tr><tr><td>Long</td><td>long</td></tr><tr><td>Character</td><td>char</td></tr><tr><td>Float</td><td>float</td></tr><tr><td>Double</td><td>double</td></tr></tbody></table><h3 id="Number-与-Math"><a href="#Number-与-Math" class="headerlink" title="Number 与 Math"></a>Number 与 Math</h3><blockquote><p>java 将一个内置类型直接赋值给一个包装类是可以的，叫做自动装箱，反之叫拆箱。</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line"><span class="type">Character</span> <span class="variable">ch</span> <span class="operator">=</span> c;</span><br><span class="line">System.out.println(ch);  <span class="comment">// 输出：a</span></span><br><span class="line"></span><br><span class="line"><span class="type">Character</span> <span class="variable">ch</span> <span class="operator">=</span> <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line"><span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> ch;</span><br><span class="line">System.out.println(c);  <span class="comment">// 输出：a</span></span><br></pre></td></tr></table></figure><p>Number 常用的方法：</p><ul><li>XXX.valueOf: 返回一个 Number 对象指定的数据类型</li><li>equals()：判断是非相等（类型和值都要相同才返回true）</li><li>compareTo()：与 number 对象相比较</li><li>toString()：转换成字符串</li><li>Integer.parseInt()：将字符串转换成 int（建议使用valueOf）<ul><li>Double.parseDouble</li><li>Long.parseLong</li></ul></li></ul><p>Math 的常用方法：</p><ul><li>abs()：返回参数的绝对值</li><li>ceil()：向上取整</li><li>floor()：向下取整</li><li>round()：四舍五入（Math.floor(x+0.5)）</li><li>min()：返回参数的最小值</li><li>max()：返回参数的最大值</li><li>exp()：返回 e 的参数次方</li><li>log()：返回 log 以 e 为底的参数</li><li>pow(x,y)：返回 x 的 y 次方</li><li>sqrt()：返回参数的开方</li><li>random()：返回一个 0 到 1 的随机数</li></ul><h3 id="Character-类"><a href="#Character-类" class="headerlink" title="Character 类"></a>Character 类</h3><blockquote><p>Character 是 char 的包装类</p></blockquote><p>定义一个 char[]：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span>[] charArray =&#123; <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span> &#125;;</span><br></pre></td></tr></table></figure><p>定义一个 Character：直接将 char 赋值给Character</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Character</span> <span class="variable">ch</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Character</span>(<span class="string">&#x27;a&#x27;</span>);</span><br></pre></td></tr></table></figure><p>char[]不能直接赋值给 Character[]，要遍历 char[]一个一个赋值</p><p>Character、类的方法</p><ul><li>isLetter()：判断是否是一个字母</li><li>isDigit()：判断是否是一个数字</li><li>isWhitespace()：判断是否是一个空白字符</li><li>isUpperCase()：</li><li>isLowerCase()：</li><li>toUpperCase()：</li><li>toLowerCase()：</li><li>toStrig()：</li></ul><h3 id="String-类"><a href="#String-类" class="headerlink" title="String 类"></a>String 类</h3><p>格式化字符串：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">fs</span> <span class="operator">=</span> String.format(<span class="string">&quot;浮点型变量的值为 &quot;</span> + <span class="string">&quot;%f, 整型变量的值为 &quot;</span> + <span class="string">&quot; %d, 字符串变量的值为 &quot;</span> + <span class="string">&quot; %s&quot;</span>, floatVar, intVar, stringVar);</span><br></pre></td></tr></table></figure><p>其他方法：</p><ul><li>char charAt(int)：返回指定索引下的 char</li><li>String copyValueOf(char[])：返回 char[]的字符串形式</li><li>String copyValueOf(char[], index, count):从 char[]的 index 下标开始，复制 count 个字符</li><li>boolean endsWith(string)：字符串是否以指定的后缀结束</li><li>boolean equals(string)：判断字符串是否相等</li><li>boolean equalsIgnoreCase(string)：判断字符串是否相等，不考虑大小写</li><li>int indexOf(string,int): 从下标 int 的位置开始返回指定 string 的索引值，找不到返回-1</li><li>String trim()：返回给定字符串去除前后空值的副本</li><li>char[] toCharArray()：将字符串转换成 char[]</li><li>boolean contains(char|string)：判断字符串是否包含指定字符或字符串</li><li>String valueOf(x)：返回 x 的字符串形式</li><li>String toLowerCase()：将字符串的字母都转换成小写</li><li>String subString(int Begin, int end)：截取指定索引范围的字符串</li></ul><h3 id="StringBuilder"><a href="#StringBuilder" class="headerlink" title="StringBuilder"></a>StringBuilder</h3><p>建立 <code>StringBuilder</code>：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//建立一个容量为10的StringBuilder</span></span><br><span class="line"><span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(<span class="number">10</span>)</span><br></pre></td></tr></table></figure><p>StringBuilder 方法：</p><ul><li>append(String)：追加指定字符串</li><li>reverse()：反转字符串</li><li>delete(int start, int end)：删除指定索引的元素</li><li>insert(int index, String str)：将 str 插入到指定的位置</li><li>replace(int start, int end， String str)：将str替换指定索引的字符串</li><li>String toString()：将 StringBuilder 转换成字符串</li></ul><h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><p>数组的方法：</p><ul><li>int binarySearch(Object[] a, Object key)：在 a 数组中按二分查找查找 key，给定的数组是已排序好的</li><li>void fill(Object[] a, Object key)：用 key 填充 a 数组</li><li>void sort(Objext[])：升序排序数组</li></ul><h2 id="List"><a href="#List" class="headerlink" title="List"></a>List</h2><h3 id="ArrayList"><a href="#ArrayList" class="headerlink" title="ArrayList"></a>ArrayList</h3><ul><li>add(int index，E e)：在指定 index 索引处添加元素</li><li>get(int index)：返回 index 索引处的元素</li><li>set(int index, E e)：修改指定 index 索引处的元素</li><li>remove(int index)：移除 index 索引处的元素</li><li>bolean remove(Object o)：删除某一元素，成功返回true</li><li>size()：返回链表元素的个数</li><li>addAll(int index, List | Set)：将 List 内的所有元素插入到 index 的索引位置（默认最后）</li></ul><h3 id="LinkList"><a href="#LinkList" class="headerlink" title="LinkList"></a>LinkList</h3><p>除了 <code>ArrayList</code> 有的方法之外还有：</p><ul><li>addFirst()：</li><li>addLast()：</li><li>removeFirst()：</li><li>removeLast()：</li><li>getFirst()：</li><li>getLast()：</li></ul><h2 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h2><p>HashMap 是一个散列表，它存储的内容是键值对(key-value)映射。</p><p>创建 Map：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;Integer, String&gt; Sites = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;Integer, String&gt;();</span><br></pre></td></tr></table></figure><p>方法如下：</p><ul><li>put(key, value)：添加元素</li><li>get(key)：获取元素</li><li>remove(key)：移除元素</li><li>size()：键值对个数</li></ul><p>在对 Map 对象进行排序时，可以将 key 值作为关键词。利用 <code>TreeMap</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, Integer&gt; sortedMap = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;(unsortedMap);</span><br></pre></td></tr></table></figure><h2 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h2><h2 id="Collections"><a href="#Collections" class="headerlink" title="Collections"></a>Collections</h2><p>Collections 类是 Java 提供的一个操作 Set、List 和 Map 等集合的工具类<br>方法如下：</p><ul><li>void reverse(List)：逆序List</li><li>void sort(List)：升序 List</li><li>void sort(List, Comparator)：根据指定的 Comparator 产生的序列对 List 排序</li><li>void swap(List, int i, int j)：指定 List 的 i 和 j 进行互换</li><li>void rotate(List, int distance)：当 distance 为正数时将 List 集合的后 distance 个元素整体移动到头部；当 distance 为负数时将 List 集合的前 distance 个元素整体移动到末尾</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;基本数据类型&quot;&gt;&lt;a href=&quot;#基本数据类型&quot; class=&quot;headerlink&quot; title=&quot;基本数据类型&quot;&gt;&lt;/a&gt;基本数据类型&lt;/h1&gt;&lt;h2 id=&quot;内置类型和包装类&quot;&gt;&lt;a href=&quot;#内置类型和包装类&quot; class=&quot;headerlink&quot; </summary>
      
    
    
    
    <category term="计算机语言知识库" scheme="https://coding.lilming.top/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80%E7%9F%A5%E8%AF%86%E5%BA%93/"/>
    
    
  </entry>
  
  <entry>
    <title>清除浮动的三种常用方式</title>
    <link href="https://coding.lilming.top/2023/07/10/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/%E6%B8%85%E9%99%A4%E6%B5%AE%E5%8A%A8%E7%9A%84%E4%B8%89%E7%A7%8D%E5%B8%B8%E7%94%A8%E6%96%B9%E5%BC%8F/"/>
    <id>https://coding.lilming.top/2023/07/10/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/%E6%B8%85%E9%99%A4%E6%B5%AE%E5%8A%A8%E7%9A%84%E4%B8%89%E7%A7%8D%E5%B8%B8%E7%94%A8%E6%96%B9%E5%BC%8F/</id>
    <published>2023-07-10T07:12:00.000Z</published>
    <updated>2023-09-08T13:04:27.175Z</updated>
    
    <content type="html"><![CDATA[<p>本文介绍了三种清除浮动的方法，并尝试解释其原理。在理解了各种清除浮动的原理之后，你会发现，很多清除浮动的方法本质上其实是一样的。掌握这些原理，相信你可以根据场景和需求，灵活运用原则发展出不同的清除浮动的方法，而不再死记或拘泥于文中提到的方法。</p><h2 id="一、为什么要清除浮动"><a href="#一、为什么要清除浮动" class="headerlink" title="一、为什么要清除浮动"></a>一、为什么要清除浮动</h2><p>在讲清除浮动的方法之前，我们先来了解一下为什么要清除浮动，清除浮动的目的是什么，即，要解决什么样的问题。来看一个浮动的例子(略去了文字内容)：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;topDiv&quot;</span>&gt;</span>     </span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;floatDiv&quot;</span>&gt;</span>float left<span class="tag">&lt;/<span class="name">div</span>&gt;</span>     </span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;textDiv&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bottomDiv&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>其样式为：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.topDiv</span> &#123;     </span><br><span class="line"><span class="attribute">width</span>: <span class="number">500px</span>;     </span><br><span class="line"><span class="attribute">border</span>: <span class="number">2px</span> solid black; </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="selector-class">.floatDiv</span> &#123;     </span><br><span class="line"><span class="attribute">width</span>: <span class="number">100px</span>;     </span><br><span class="line"><span class="attribute">height</span>: <span class="number">100px</span>;     </span><br><span class="line"><span class="attribute">border</span>: <span class="number">2px</span> dotted red;    </span><br><span class="line"><span class="attribute">color</span>: red;     </span><br><span class="line"><span class="attribute">margin</span>: <span class="number">4px</span>;     </span><br><span class="line"><span class="attribute">float</span>: left; </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="selector-class">.bottomDiv</span> </span><br><span class="line">&#123;     </span><br><span class="line"><span class="attribute">width</span>: <span class="number">500px</span>;     </span><br><span class="line"><span class="attribute">height</span>: <span class="number">100px</span>;     </span><br><span class="line"><span class="attribute">margin</span>: <span class="number">5px</span> <span class="number">0</span>;     </span><br><span class="line"><span class="attribute">border</span>: <span class="number">2px</span> dotted black; </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="selector-class">.textDiv</span> </span><br><span class="line">&#123;     </span><br><span class="line"><span class="attribute">color</span>: blue;     </span><br><span class="line"><span class="attribute">border</span>: <span class="number">2px</span> solid blue; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在chrome中渲染的效果如下图所示：</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2017/10/18/2af797ffc0918352ac8d381994ff1a27~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.image" alt="浮动效果"></p><p>这肯定不是我们想要的渲染效果，它可能存在如下问题：</p><ol><li>文字围绕浮动元素排版，但我们可能希望文字（<code>.textDiv</code>）排列在浮动元素下方，或者，我们并不希望<code>.textDiv</code>两边有浮动元素存在。</li><li>浮动元素排版超出了其父级元素（<code>.topDiv</code>），父元素的高度出现了塌缩，若没有文字高度的支撑，不考虑边框，父级元素高度会塌缩成零。</li><li>浮动元素甚至影响到了其父元素的兄弟元素（<code>.bottomDiv</code>）排版。因为浮动元素脱离了文档流，<code>.bottomDiv</code>在计算元素位置的时候会忽略其影响，紧接着上一个元素的位置继续排列。</li></ol><p>解决第一个问题，需要清除<code>.textDiv</code>周围的浮动，而解决第二个问题，因为父元素的兄弟元素位置只受父元素位置的影响，就需要一种方法将父级元素的高度撑起来，将浮动元素包裹在其中，避免浮动元素影响父元素外部的元素排列。</p><p>接下来开始介绍清除浮动的方法。</p><h2 id="二、清除浮动的方法"><a href="#二、清除浮动的方法" class="headerlink" title="二、清除浮动的方法"></a>二、清除浮动的方法</h2><h3 id="1-父元素结束标签之前插入清除浮动的块级元素"><a href="#1-父元素结束标签之前插入清除浮动的块级元素" class="headerlink" title="1. 父元素结束标签之前插入清除浮动的块级元素"></a>1. 父元素结束标签之前插入清除浮动的块级元素</h3><p>HTML结构如下，在有浮动的父级元素的末尾插入了一个没有内容的块级元素div：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;topDiv&quot;</span>&gt;</span>     </span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;textDiv&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span>     </span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;floatDiv&quot;</span>&gt;</span>float left<span class="tag">&lt;/<span class="name">div</span>&gt;</span>     </span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;blankDiv&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bottomDiv&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.topDiv</span> &#123;     </span><br><span class="line"><span class="attribute">width</span>: <span class="number">500px</span>;     </span><br><span class="line"><span class="attribute">border</span>: <span class="number">2px</span> solid black;</span><br><span class="line">&#125; </span><br><span class="line"><span class="selector-class">.floatDiv</span> &#123;     </span><br><span class="line"><span class="attribute">width</span>: <span class="number">100px</span>;     </span><br><span class="line"><span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line"><span class="attribute">border</span>: <span class="number">2px</span> dotted red;</span><br><span class="line"><span class="attribute">color</span>: red;</span><br><span class="line"><span class="attribute">margin</span>: <span class="number">4px</span>;</span><br><span class="line"><span class="attribute">float</span>: left;</span><br><span class="line">&#125; </span><br><span class="line"><span class="selector-class">.bottomDiv</span> &#123;     </span><br><span class="line"><span class="attribute">width</span>: <span class="number">500px</span>;     </span><br><span class="line"><span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line"><span class="attribute">margin</span>: <span class="number">5px</span> <span class="number">0</span>;</span><br><span class="line"><span class="attribute">border</span>: <span class="number">2px</span> dotted black;</span><br><span class="line">&#125; </span><br><span class="line"><span class="selector-class">.textDiv</span> &#123;     </span><br><span class="line"><span class="attribute">color</span>: blue;</span><br><span class="line"><span class="attribute">border</span>: <span class="number">2px</span> solid blue;</span><br><span class="line">&#125; </span><br><span class="line"><span class="comment">//区别在这里</span></span><br><span class="line"><span class="selector-class">.blankDiv</span> &#123;    </span><br><span class="line"><span class="attribute">clear</span>: both; <span class="comment">// or left</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>渲染效果如下：</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2017/10/18/7e3621e15592ac42f86c70734fe4e1dc~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.image"></p><p>通过上面的样式，<code>.blankDiv</code> 告诉浏览器，我的左边不允许有浮动的元素存在，请清除掉我左边的浮动元素。然而，因为浮动元素（<code>.floatDiv</code>）位置已经确定，浏览器在计算 <code>.blankDiv</code> 的位置时，为满足其需求，将 <code>.blankDiv</code> 渲染在浮动元素下方，保证了 <code>.blankDiv</code> 左边没有浮动元素。同时可以看出，父元素的高度也被撑起来了，其兄弟元素的渲染也不再受到浮动的影响，这是因为 <code>.blankDiv</code> 仍然在文档流中，它必须在父元素的边界内，父元素只有增加其高度才能达到此目的，可以说是一个意外收获。(<code>clear</code> 的值为 <code>both</code> 也有相同的效果，通俗理解就是，哪边不允许有浮动元素，clear 就是对应方向的值，两边都不允许就是 <code>both</code>)</p><h3 id="2-利用伪元素（clearfix）"><a href="#2-利用伪元素（clearfix）" class="headerlink" title="2. 利用伪元素（clearfix）"></a>2. 利用伪元素（clearfix）</h3><p>HTML 结构如下，为了惯例相符，在 <code>.topDiv</code> 的 div 上再添加一个<code>clearfix</code>类：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;topDiv clearfix&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;textDiv&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;floatDiv&quot;</span>&gt;</span>float left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bottomDiv&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>样式应用如下：</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 省略基本的样式 </span></span><br><span class="line"><span class="comment">// 区别在这里 </span></span><br><span class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">:after</span> &#123;     </span><br><span class="line"><span class="attribute">content</span>: <span class="string">&#x27;.&#x27;</span>;   </span><br><span class="line"><span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line"><span class="attribute">display</span>: block;</span><br><span class="line"><span class="attribute">clear</span>: both;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>该样式在<code>clearfix</code>，即父级元素的最后，添加了一个<code>:after</code>伪元素，通过清除伪元素的浮动，达到撑起父元素高度的目的。注意到该伪元素的<code>display</code>值为<code>block</code>，即，它是一个不可见的块级元素（有的地方使用<code>table</code>，因为<code>table</code>也是一个块级元素）。你可能已经意识到，这也只不过是前一种清除浮动方法（添加空白div）的另一种变形，其底层逻辑也是完全一样的。前面的三种方法，其本质上是一样的。</p><h3 id="3-利用-overflow-清除浮动"><a href="#3-利用-overflow-清除浮动" class="headerlink" title="3. 利用 overflow 清除浮动"></a>3. 利用 overflow 清除浮动</h3><p>首先直观地看看，<code>overflow</code>是如何清除浮动的。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;topDiv&quot;</span>&gt;</span>     </span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;floatDiv&quot;</span>&gt;</span>float left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;textDiv&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bottomDiv&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.topDiv</span> &#123;    </span><br><span class="line"><span class="attribute">width</span>: <span class="number">500px</span>;   </span><br><span class="line"><span class="attribute">padding</span>: <span class="number">4px</span>;   </span><br><span class="line"><span class="attribute">border</span>: <span class="number">2px</span> solid black;  </span><br><span class="line"><span class="comment">// 区别在这里  </span></span><br><span class="line"><span class="attribute">overflow</span>: auto; </span><br><span class="line">&#125; </span><br><span class="line"><span class="selector-class">.floatDiv</span>&#123;   </span><br><span class="line"><span class="attribute">width</span>: <span class="number">100px</span>; </span><br><span class="line"><span class="attribute">height</span>: <span class="number">100px</span>;   </span><br><span class="line"><span class="attribute">border</span>: <span class="number">2px</span> dotted red;  </span><br><span class="line"><span class="attribute">color</span>: red;   </span><br><span class="line"><span class="attribute">margin</span>: <span class="number">4px</span>;   </span><br><span class="line"><span class="attribute">float</span>: left; </span><br><span class="line">&#125; </span><br><span class="line"><span class="selector-class">.bottomDiv</span> &#123;    </span><br><span class="line"><span class="attribute">width</span>: <span class="number">500px</span>; </span><br><span class="line"><span class="attribute">height</span>: <span class="number">100px</span>;   </span><br><span class="line"><span class="attribute">margin</span>: <span class="number">5px</span> <span class="number">0</span>;    </span><br><span class="line"><span class="attribute">border</span>: <span class="number">2px</span> dotted black; </span><br><span class="line"><span class="attribute">clear</span>: both; </span><br><span class="line">&#125; </span><br><span class="line"><span class="selector-class">.textDiv</span> &#123; </span><br><span class="line"><span class="attribute">color</span>: blue;   </span><br><span class="line"><span class="attribute">border</span>: <span class="number">2px</span> solid blue; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>不应用上面标识出来的CSS时，渲染结果和本文开始的第一个图形效果相同，应用CSS后的渲染效果如下：</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2017/10/18/cb75fb0469d3316e2ca6192f8316f7cb~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.image"></p><p>仅仅只在父级元素上添加了一个值为auto的overflow属性，父元素的高度立即被撑起，将浮动元素包裹在内。看起来，浮动被清除了，浮动不再会影响到后续元素的渲染（严格讲，这和清除浮动没有一点关系，因为不存在哪个元素的浮动被清除，不纠结这个问题）。其实，这里的overflow值，还可以是除了”visible”之外的任何有效值，它们都能达到撑起父元素高度，清除浮动的目的。不过，有的值可能会带来副作用，比如，scroll值会导致滚动条始终可见，hidden会使得超出边框部分不可见等。那它们是如何做到浮动清除的呢？</p><p>要讲清楚这个解决方案的原理，有一个概念始终是绕不过去，那就是<a href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/CSS/Block_formatting_context">块格式化上下文(BFC)</a>,然而这又是一个非常抽象的概念，如果要清楚地把这个概念讲出来，恐怕需要非常大的篇幅，这里仅提及和理解该问题相关的内容。</p><p>这是从<a href="https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Block_formatting_context">MDN</a>上摘下来的BFC定义：</p><blockquote><p>A block formatting context is a part of a visual CSS rendering of a Web page. It is the region in which the layout of block boxes occurs and in which floats interact with each other.</p></blockquote><p>翻译过来就是：块级格式化上下文是CSS可视化渲染的一部分。它是一块区域，规定了内部块盒的渲染方式，以及浮动相互之间的影响关系。</p><p>块格式化上下文（BFC）有下面几个特点：</p><ol><li>BFC是就像一道屏障，隔离出了BFC内部和外部，内部和外部区域的渲染相互之间不影响。BFC有自己的一套内部子元素渲染的规则，不影响外部渲染，也不受外部渲染影响。</li><li>BFC的区域不会和外部浮动盒子的外边距区域发生叠加。也就是说，外部任何浮动元素区域和BFC区域是泾渭分明的，不可能重叠。</li><li>BFC在计算高度的时候，内部浮动元素的高度也要计算在内。也就是说，即使BFC区域内只有一个浮动元素，BFC的高度也不会发生塌缩，高度是大于等于浮动元素的高度的。</li><li>HTML结构中，当构建BFC区域的元素紧接着一个浮动盒子时，即，是该浮动盒子的兄弟节点，BFC区域会首先尝试在浮动盒子的旁边渲染，但若宽度不够，就在浮动元素的下方渲染。<a href="https://www.w3.org/TR/CSS2/visuren.html#bfc-next-to-float">看这里</a></li></ol><p>有了这几点，就可以尝试解释为什么<code>overflow</code>（值不为<code>visible</code>）可以清除浮动了。</p><p>当元素设置了<code>overflow</code>样式，且值不为<code>visible</code>时，该元素就建构了一个BFC(哪些情况下，元素可以建构出BFC，可以看查看CSS文档对<a href="https://www.w3.org/TR/CSS2/visuren.html#block-formatting">BFC的定义</a>)。在我们的例子中，<code>.topDiv</code>因设置了值为<code>auto</code>的<code>overflow</code>样式，所以该元素建构出一个BFC，按照第三个特点，BFC的高度是要包括浮动元素的，所以<code>.topDiv</code>的高度被撑起来，达到了清除浮动影响的目的。(至于为什么值为<code>visible</code>的<code>overflow</code>不能建构BFC，<a href="https://stackoverflow.com/questions/9943503/why-does-css2-1-define-overflow-values-other-than-visible-to-establish-a-new-b?answertab=votes#tab-top">这个答案</a>给了一个解释)</p><p>其实，这里overflow的作用就是为了构建一个BFC区域，让内部浮动的影响都得以“内化”。如果你看了<a href="https://www.w3.org/TR/CSS2/visuren.html#block-formatting">BFC的定义</a>，你会发现，构建一个BFC区域的方法有很多种，<code>overflow</code>只是其中的一种，那在这里，我们是否也可以利用其它的方式构建BFC，且同样能达到清除浮动的目的呢？</p><p>BFC定义中说，<code>inline-block</code>同样也能构建BFC，那我们就用该样式来试试：</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.topDiv</span> &#123;     </span><br><span class="line"><span class="attribute">width</span>: <span class="number">500px</span>;     </span><br><span class="line"><span class="attribute">padding</span>: <span class="number">4px</span>;    </span><br><span class="line"><span class="attribute">border</span>: <span class="number">2px</span> solid black;    </span><br><span class="line"><span class="comment">// 区别在这里    </span></span><br><span class="line"><span class="attribute">display</span>: inline-block; &#125; </span><br><span class="line"><span class="comment">// 其他样式相同，省略</span></span><br></pre></td></tr></table></figure><p>渲染效果如下：</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2017/10/18/aa859ff15404ede93450f03430b2d3ba~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.image"></p><p>效果完全一样！只要我们理解了原理，就可以灵活演变出不同的清除浮动的方法，而不必死记某种手段。</p><p>当然，要说明的是，在实际项目中选择采用哪种方式构建BFC是要具体问题具体分析的，因为要考虑到选用的样式自身的作用和影响。这个例子中，选用<code>inline-block</code>和选用<code>overflow</code>效果完全一样，没有看出有什么副作用，但不代表在其他项目中一样能行得通。甚至对<code>overflow</code>值的选择也要考虑其表现和影响。在各种构建BFC的方式中，<code>overflow</code>方式可能是外部影响更可控的一种，我猜想这也许就是为什么普遍采用<code>overflow</code>来清除浮动的原因吧。</p><p>到这里，我要分享的清除浮动的方法已经讲完了。其实，如果在不同的使用场景下，对这几个方法进行拆分组合(其实是对底层原理的拆分组合)，还可以实现其他形式不同的清除浮动的方法，最重要的还是对底层原理的把握。知其然，亦知其所以然才是最有效的学习方式。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;本文介绍了三种清除浮动的方法，并尝试解释其原理。在理解了各种清除浮动的原理之后，你会发现，很多清除浮动的方法本质上其实是一样的。掌握这些原理，相信你可以根据场景和需求，灵活运用原则发展出不同的清除浮动的方法，而不再死记或拘泥于文中提到的方法。&lt;/p&gt;
&lt;h2 id=&quot;一、为</summary>
      
    
    
    
    <category term="前端学习" scheme="https://coding.lilming.top/categories/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="前端" scheme="https://coding.lilming.top/tags/%E5%89%8D%E7%AB%AF/"/>
    
    <category term="常用技巧" scheme="https://coding.lilming.top/tags/%E5%B8%B8%E7%94%A8%E6%8A%80%E5%B7%A7/"/>
    
  </entry>
  
  <entry>
    <title>orginone平台解析——SignalR通信</title>
    <link href="https://coding.lilming.top/2023/07/04/orginone%E5%AE%9E%E4%B9%A0%E7%BB%8F%E5%8E%86/orginone%E5%B9%B3%E5%8F%B0%E8%A7%A3%E6%9E%90%E2%80%94%E2%80%94SignalR%E9%80%9A%E4%BF%A1/"/>
    <id>https://coding.lilming.top/2023/07/04/orginone%E5%AE%9E%E4%B9%A0%E7%BB%8F%E5%8E%86/orginone%E5%B9%B3%E5%8F%B0%E8%A7%A3%E6%9E%90%E2%80%94%E2%80%94SignalR%E9%80%9A%E4%BF%A1/</id>
    <published>2023-07-04T08:21:00.000Z</published>
    <updated>2023-09-08T03:55:33.170Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Storehub"><a href="#Storehub" class="headerlink" title="Storehub"></a>Storehub</h1><blockquote><p>关于 SignalR.HubConnection 的官方文档（不过官方貌似没有中文版的）： <a href="https://learn.microsoft.com/zh-cn/javascript/api/@microsoft/signalr/hubconnection?view=signalr-js-latest">https://learn.microsoft.com/zh-cn/javascript/api/@microsoft/signalr/hubconnection?view=signalr-js-latest</a><br>对 SignIR 还不是很熟悉，和传统的 axios 请求不太一样，之后再继续学习这一块</p></blockquote><p>Storehub 功能是用来和服务器建立 SignIR 连接的</p><ol><li>constructor 构造方法：构造函数，用于建立与 SignalR 服务器的连接。主要是初始化了私有对象_connection，这是用来和 SignalR 服务器的连接的对象，后面的 invoke 就是通过这一方式和服务器连接的</li><li>isConnected：检查是否连接</li><li>dispose：销毁连接</li><li>_starting：初次开始连接</li><li>start：启动连接，如果没有启动，则调用_starting</li><li>restart：重新建立连接，先停止连接，之后调用start</li><li>onConnected：连接成功的回调函数，传入一个返回 <code>void</code> 的函数，用来在_starting 中执行</li><li>onDisconnected：断开连接的回调，和成功连接的回调类似，在销毁连接时执行</li><li>on：<ol><li>接收两个参数一个是字符串（方法名），第二个是函数</li><li>这也是一个回调函数，官网上的解释是说注册一个处理程序，当调用具有指定方法名称的集线器方法时将调用该处理程序。我的理解是客户端去监听服务器，当服务器执行了第一个参数指定的方法时，就去执行后面的函数</li><li>例如：<br>当服务器执行了 updated 方法后，会将结果传入第二个参数所定义的函数，从而做到服务器去调用客户端的方法<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">_storeHub</span>.<span class="title function_">on</span>(<span class="string">&#x27;updated&#x27;</span>, <span class="function">(<span class="params">belongId, key, data</span>) =&gt;</span> &#123;  </span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">_updated</span>(belongId, key, data);  </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ol></li><li>invoke：这是用来调用服务器的方法<ol><li>接收的参数分为两个部分，第一个是调用的服务器端的方法，第二个是传入的参数</li><li>例如：在 kernelapi 中的登录方法：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">res = await this._storeHub.invoke(&#x27;Login&#x27;, req);</span><br></pre></td></tr></table></figure>我在 invoke 中打印了请求的方法和对应的请求结果：<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">_connection</span>  </span><br><span class="line">  .<span class="title function_">invoke</span>(methodName, ...args)  </span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">res: ResultType&lt;<span class="built_in">any</span>&gt;</span>) =&gt;</span> &#123;  </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res); <span class="comment">//打印请求结果 </span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(methodName);  <span class="comment">//打印请求方法</span></span><br><span class="line"><span class="comment">//其他的代码省略</span></span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure><img src="/static/62adada267390657a16b2233edd71c7.png"></li></ol></li></ol><h1 id="anyStore"><a href="#anyStore" class="headerlink" title="anyStore"></a>anyStore</h1><p>anyStore 功能主要是用来管理服务器的数据的，比如存储的文件，使用的连接方法是调用上面的 Storehub 对象</p><ol><li>_restRequest:使用 axios 请求后端，在 anyStore 的每一个方法下都会先判断一次，如果 StoreHub 没有连接上才会用 axios 请求，以下是 anyStore 涉及到的方法</li><li>对物的操作：创建、加载。物是平台中抽象的一个概念，把平台中所有的对象都抽象成物</li><li>对文件的操作：上传、查看</li><li>对 token 的操作：更新 token 到缓存中、获取 token</li><li>对对象的操作：查询、修改、删除</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Storehub&quot;&gt;&lt;a href=&quot;#Storehub&quot; class=&quot;headerlink&quot; title=&quot;Storehub&quot;&gt;&lt;/a&gt;Storehub&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;关于 SignalR.HubConnection 的官方文档（不过</summary>
      
    
    
    
    <category term="orginone实习经历" scheme="https://coding.lilming.top/categories/orginone%E5%AE%9E%E4%B9%A0%E7%BB%8F%E5%8E%86/"/>
    
    
  </entry>
  
  <entry>
    <title>React路由踩坑</title>
    <link href="https://coding.lilming.top/2023/07/01/%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/React%E8%B7%AF%E7%94%B1%E8%B8%A9%E5%9D%91/"/>
    <id>https://coding.lilming.top/2023/07/01/%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/React%E8%B7%AF%E7%94%B1%E8%B8%A9%E5%9D%91/</id>
    <published>2023-07-01T14:43:00.000Z</published>
    <updated>2023-09-08T05:25:24.052Z</updated>
    
    <content type="html"><![CDATA[<h1 id="错误实例"><a href="#错误实例" class="headerlink" title="错误实例"></a>错误实例</h1><p>在一些版本较老的 React 的项目里你可能会看到这样的路由跳转方法</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Redirect</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span>;  </span><br><span class="line">  </span><br><span class="line"><span class="comment">// 设置默认进入登录页面  </span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">RedirectPage</span>: <span class="title class_">React</span>.<span class="property">FC</span> = <span class="function">() =&gt;</span> &#123;  </span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">Redirect</span> <span class="attr">to</span>=<span class="string">&quot;/passport/login&quot;</span> /&gt;</span></span>;  </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>然而你把这段代码放入最新的 React 项目中会有报错<br><img src="/../static/Pasted%20image%2020230701224929.png"><br>报错显示不存在 Redirect，这是因为在 v6 版本的 react-router-dom 中移除了 Redirect</p><h1 id="正确做法"><a href="#正确做法" class="headerlink" title="正确做法"></a>正确做法</h1><p>在 <code>react-router-dom</code> 的 v6 版本中，<code>Redirect</code> 组件已经被移除了，取而代之的是 <code>useNavigate</code> Hook 和 <code>navigate</code> 函数</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123;useEffect&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;  </span><br><span class="line"><span class="keyword">import</span> &#123; useNavigate &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span>;  </span><br><span class="line">  </span><br><span class="line"><span class="comment">// 设置默认进入登录页面  </span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">RedirectPage</span>: <span class="title class_">React</span>.<span class="property">FC</span> = <span class="function">() =&gt;</span> &#123;  </span><br><span class="line">    <span class="keyword">const</span> navigate = <span class="title function_">useNavigate</span>();  </span><br><span class="line">    <span class="title function_">useEffect</span>(<span class="function">()=&gt;</span>&#123;  </span><br><span class="line">        <span class="title function_">navigate</span>(<span class="string">&#x27;/passport/login&#x27;</span>)  </span><br><span class="line">    &#125;,[])  </span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>  </span><br><span class="line">&#125;;  </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">RedirectPage</span>;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;错误实例&quot;&gt;&lt;a href=&quot;#错误实例&quot; class=&quot;headerlink&quot; title=&quot;错误实例&quot;&gt;&lt;/a&gt;错误实例&lt;/h1&gt;&lt;p&gt;在一些版本较老的 React 的项目里你可能会看到这样的路由跳转方法&lt;/p&gt;
&lt;figure class=&quot;highligh</summary>
      
    
    
    
    <category term="踩坑记录" scheme="https://coding.lilming.top/categories/%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/"/>
    
    
  </entry>
  
  <entry>
    <title>React基础知识入门</title>
    <link href="https://coding.lilming.top/2023/06/20/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/React%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E5%85%A5%E9%97%A8/"/>
    <id>https://coding.lilming.top/2023/06/20/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/React%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E5%85%A5%E9%97%A8/</id>
    <published>2023-06-20T05:19:00.000Z</published>
    <updated>2023-09-08T03:58:35.816Z</updated>
    
    <content type="html"><![CDATA[<h2 id="categories"><a href="#categories" class="headerlink" title="categories:"></a>categories:</h2><h2 id="这篇-React-基础入门是结合-React-和-TS-来使用的，会比一般的-JS-加-React-的项目复杂的多，不过就我目前接触到的项目，采用-TS-居多，JS-越来越少了，大厂或许-TS-用的更多吧（我猜的）。我参照的学习资料来自掘金的一篇文章以及官方的入门教程，我的个人习惯一向是参照文字教程-动手写-demo-＋做项目，视频是真的看不下去，如果是国外的教程有优质的翻译还好，国内的教程质量不能说是很差吧，只是我不习惯这种按照老师讲课的方式，更倾向于文字形式能挑重点看，跳过已经掌握的部分再说说实战视频吧，实战部分的案例都被用得太烂了，如果仅仅只是为了提升技术那么完全没有做的必要，直接参与竞赛或者老师的课题，以解决问题为导向，对自己技术的提升真的很大，实在没有也可以看看-github-的优质项目。-创建-React-项目-确保安装了-node-js-后就可以使用命令安装-react-gt-my-app-为创建的-react-项目名-初始-jsx-与组件-gt-下面介绍有关-React-的基础知识-创建-React-组件-React-通常有一个主入口文件，如：index-js-或-index-tsx-首先利用-ReactDOM-createRoot-创建一个-root-document-getElementById-作用是什么？-gt-获取一个-id-为“root”的-HTML-元素作为-React-的挂载点，将其组件挂载到这个容器上-Id-为什么是“root”-gt-在-public-目录下，和-index-html-文件里命名的元素有关，可以自定义命名-之后再用-root-render-将内部的-React-组件（）渲染到-root（根容器）中-App-组件是你引入的一个-React-组件-先在-App-jsx-文件里创建-JS-函数，函数里返回标签，这就是一个-React-组件了-gt-注意：-gt-React-组件必须以大写字母开头-gt-最外层的标签必须闭合，这和-HTML-不同-要想组件在其他的组件里去使用要用-export-defsult-添加样式-使用-className-指定一个样式表-条件渲染-if-语句-三元表达式-短路运算（逻辑中断）-列表渲染-利用-Array-的-map-方法来渲染列表-gt-循环的标签一定要有-key-属性，分配一个唯一的值，不然会有警告-响应事件-在函数组件内部声明一个事件处理函数来响应事件-组件-函数组件-函数名大写开头，函数内返回标签-渲染函数组件-gt-直接使用标签-箭头函数语法-类组件1-必须继承-React-Component-父类2-必须有一个-render-方法3-render-方法必须要有返回值-类组件的渲染和函数组件一致-绑定事件-函数组件绑定事件-类组件绑定事件-gt-在类中定义事件函数，要用-this-funName-的方式引用-事件对象-通过-preventDefault-方法获取到事件对象，阻止运行-插值和状态-class-写法和-Hook-写法-gt-在前面说到-react-的组件由两种写法，一个是-class，一个是-function，在-react18-出来之前，函数组件是不能改变组件内部的值的，要做到动态的效果只能用-class，在-react18-出来之后，添加了一个新特性：Hook。可以在函数组件里定义变量，并修改变量了，在一些老的教程里没有提到这一点，我在这一点上吃了一点亏，既然官方推出了这个特新肯定是希望能成为主流去用的，比如在-react-官网教程里用的就是这个方式，所以在学习这一部分时，尽量还是以-Hook-为主，class-过一遍就好了-class-写法-初始化数据：state-x3D-，state-是组件内部的私有数据，只能在组件内部使用，相当于-java-对象的私有变量。state-的值是一个对象，表示组件内部的多个数据-修改数据：this-setState-要修改的值-，注意：不能直接修改state-gt-注意，在事件函数里存在-this-指向的问题，非箭头函数函数不能直接使用-this-setState-，因为这个-this-不是-class-的-this。-gt-箭头函数没有他自己的-this，他的-this-是由外面一层的-this-决定的-Hook-写法"><a href="#这篇-React-基础入门是结合-React-和-TS-来使用的，会比一般的-JS-加-React-的项目复杂的多，不过就我目前接触到的项目，采用-TS-居多，JS-越来越少了，大厂或许-TS-用的更多吧（我猜的）。我参照的学习资料来自掘金的一篇文章以及官方的入门教程，我的个人习惯一向是参照文字教程-动手写-demo-＋做项目，视频是真的看不下去，如果是国外的教程有优质的翻译还好，国内的教程质量不能说是很差吧，只是我不习惯这种按照老师讲课的方式，更倾向于文字形式能挑重点看，跳过已经掌握的部分再说说实战视频吧，实战部分的案例都被用得太烂了，如果仅仅只是为了提升技术那么完全没有做的必要，直接参与竞赛或者老师的课题，以解决问题为导向，对自己技术的提升真的很大，实在没有也可以看看-github-的优质项目。-创建-React-项目-确保安装了-node-js-后就可以使用命令安装-react-gt-my-app-为创建的-react-项目名-初始-jsx-与组件-gt-下面介绍有关-React-的基础知识-创建-React-组件-React-通常有一个主入口文件，如：index-js-或-index-tsx-首先利用-ReactDOM-createRoot-创建一个-root-document-getElementById-作用是什么？-gt-获取一个-id-为“root”的-HTML-元素作为-React-的挂载点，将其组件挂载到这个容器上-Id-为什么是“root”-gt-在-public-目录下，和-index-html-文件里命名的元素有关，可以自定义命名-之后再用-root-render-将内部的-React-组件（）渲染到-root（根容器）中-App-组件是你引入的一个-React-组件-先在-App-jsx-文件里创建-JS-函数，函数里返回标签，这就是一个-React-组件了-gt-注意：-gt-React-组件必须以大写字母开头-gt-最外层的标签必须闭合，这和-HTML-不同-要想组件在其他的组件里去使用要用-export-defsult-添加样式-使用-className-指定一个样式表-条件渲染-if-语句-三元表达式-短路运算（逻辑中断）-列表渲染-利用-Array-的-map-方法来渲染列表-gt-循环的标签一定要有-key-属性，分配一个唯一的值，不然会有警告-响应事件-在函数组件内部声明一个事件处理函数来响应事件-组件-函数组件-函数名大写开头，函数内返回标签-渲染函数组件-gt-直接使用标签-箭头函数语法-类组件1-必须继承-React-Component-父类2-必须有一个-render-方法3-render-方法必须要有返回值-类组件的渲染和函数组件一致-绑定事件-函数组件绑定事件-类组件绑定事件-gt-在类中定义事件函数，要用-this-funName-的方式引用-事件对象-通过-preventDefault-方法获取到事件对象，阻止运行-插值和状态-class-写法和-Hook-写法-gt-在前面说到-react-的组件由两种写法，一个是-class，一个是-function，在-react18-出来之前，函数组件是不能改变组件内部的值的，要做到动态的效果只能用-class，在-react18-出来之后，添加了一个新特性：Hook。可以在函数组件里定义变量，并修改变量了，在一些老的教程里没有提到这一点，我在这一点上吃了一点亏，既然官方推出了这个特新肯定是希望能成为主流去用的，比如在-react-官网教程里用的就是这个方式，所以在学习这一部分时，尽量还是以-Hook-为主，class-过一遍就好了-class-写法-初始化数据：state-x3D-，state-是组件内部的私有数据，只能在组件内部使用，相当于-java-对象的私有变量。state-的值是一个对象，表示组件内部的多个数据-修改数据：this-setState-要修改的值-，注意：不能直接修改state-gt-注意，在事件函数里存在-this-指向的问题，非箭头函数函数不能直接使用-this-setState-，因为这个-this-不是-class-的-this。-gt-箭头函数没有他自己的-this，他的-this-是由外面一层的-this-决定的-Hook-写法" class="headerlink" title="这篇 React 基础入门是结合 React 和 TS 来使用的，会比一般的 JS 加 React 的项目复杂的多，不过就我目前接触到的项目，采用 TS 居多，JS 越来越少了，大厂或许 TS 用的更多吧（我猜的）。我参照的学习资料来自掘金的一篇文章以及官方的入门教程，我的个人习惯一向是参照文字教程+动手写 demo ＋做项目，视频是真的看不下去，如果是国外的教程有优质的翻译还好，国内的教程质量不能说是很差吧，只是我不习惯这种按照老师讲课的方式，更倾向于文字形式能挑重点看，跳过已经掌握的部分再说说实战视频吧，实战部分的案例都被用得太烂了，如果仅仅只是为了提升技术那么完全没有做的必要，直接参与竞赛或者老师的课题，以解决问题为导向，对自己技术的提升真的很大，实在没有也可以看看 github 的优质项目。# 创建 React 项目- 确保安装了 node.js 后就可以使用命令安装 react&gt; my-app 为创建的 react 项目名# 初始 jsx 与组件&gt; 下面介绍有关 React 的基础知识## 创建 React 组件- React 通常有一个主入口文件，如：index.js 或 index.tsx- 首先利用 ReactDOM.createRoot 创建一个 root- document.getElementById 作用是什么？&gt; 获取一个 id 为“root”的 HTML 元素作为 React 的挂载点，将其组件挂载到这个容器上- Id 为什么是“root”&gt; 在 public 目录下，和 index.html 文件里命名的元素有关，可以自定义命名- 之后再用 root.render 将内部的 React 组件（）渲染到 root（根容器）中- App 组件是你引入的一个 React 组件- 先在 App.jsx 文件里创建 JS 函数，函数里返回标签，这就是一个 React 组件了&gt; 注意：&gt; React 组件必须以大写字母开头&gt; 最外层的标签必须闭合，这和 HTML 不同- 要想组件在其他的组件里去使用要用 export defsult##  添加样式- 使用 className 指定一个样式表# 条件渲染- if 语句- 三元表达式- 短路运算（逻辑中断）## 列表渲染- 利用 Array 的 map 方法来渲染列表&gt; 循环的标签一定要有 key 属性，分配一个唯一的值，不然会有警告## 响应事件- 在函数组件内部声明一个事件处理函数来响应事件# 组件## 函数组件- 函数名大写开头，函数内返回标签- 渲染函数组件&gt; 直接使用标签- 箭头函数语法## 类组件1. 必须继承 React.Component 父类2. 必须有一个 render 方法3. render 方法必须要有返回值- 类组件的渲染和函数组件一致## 绑定事件- 函数组件绑定事件- 类组件绑定事件&gt; 在类中定义事件函数，要用 this.funName 的方式引用 ## 事件对象- 通过 preventDefault 方法获取到事件对象，阻止运行# 插值和状态## class 写法和 Hook 写法&gt; 在前面说到 react 的组件由两种写法，一个是 class，一个是 function，在 react18 出来之前，函数组件是不能改变组件内部的值的，要做到动态的效果只能用 class，在 react18 出来之后，添加了一个新特性：Hook。可以在函数组件里定义变量，并修改变量了，在一些老的教程里没有提到这一点，我在这一点上吃了一点亏，既然官方推出了这个特新肯定是希望能成为主流去用的，比如在 react 官网教程里用的就是这个方式，所以在学习这一部分时，尽量还是以 Hook 为主，class 过一遍就好了## class 写法- 初始化数据：state &#x3D; {}，state 是组件内部的私有数据，只能在组件内部使用，相当于 java 对象的私有变量。state 的值是一个对象，表示组件内部的多个数据- 修改数据：this.setState({要修改的值})，注意：不能直接修改state&gt; 注意，在事件函数里存在 this 指向的问题，非箭头函数函数不能直接使用 this.setState()，因为这个 this 不是 class 的 this。&gt; 箭头函数没有他自己的 this，他的 this 是由外面一层的 this 决定的##  Hook 写法"></a>这篇 React 基础入门是结合 React 和 TS 来使用的，会比一般的 JS 加 React 的项目复杂的多，不过就我目前接触到的项目，采用 TS 居多，JS 越来越少了，大厂或许 TS 用的更多吧（我猜的）。<br>我参照的学习资料来自<a href="https://juejin.cn/post/7021674818621669389">掘金的一篇文章</a>以及<a href="https://react.docschina.org/learn#components">官方的入门教程</a>，我的个人习惯一向是参照文字教程+动手写 demo ＋做项目，视频是真的看不下去，如果是国外的教程有优质的翻译还好，国内的教程质量不能说是很差吧，只是我不习惯这种按照老师讲课的方式，更倾向于文字形式能挑重点看，跳过已经掌握的部分<br>再说说实战视频吧，实战部分的案例都被用得太烂了，如果仅仅只是为了提升技术那么完全没有做的必要，直接参与竞赛或者老师的课题，以解决问题为导向，对自己技术的提升真的很大，实在没有也可以看看 github 的优质项目。<br># 创建 React 项目<br>- 确保安装了 node.js 后就可以使用命令安装 react<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx creat-react-app my-app</span><br></pre></td></tr></table></figure><br>&gt; my-app 为创建的 react 项目名<br># 初始 jsx 与组件<br>&gt; 下面介绍有关 React 的基础知识<br>## 创建 React 组件<br>- React 通常有一个主入口文件，如：index.js 或 index.tsx<br>- 首先利用 ReactDOM.createRoot 创建一个 root<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> root = <span class="title class_">ReactDOM</span>.<span class="title function_">createRoot</span>(</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;root&#x27;</span>) <span class="keyword">as</span> <span class="title class_">HTMLElement</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><br>- document.getElementById 作用是什么？<br>&gt; 获取一个 id 为“root”的 HTML 元素作为 React 的挂载点，将其组件挂载到这个容器上<br>- Id 为什么是“root”<br>&gt; 在 public 目录下，和 index.html 文件里命名的元素有关，可以自定义命名<br>- 之后再用 root.render 将内部的 React 组件（<App/>）渲染到 root（根容器）中<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root.<span class="title function_">render</span>(  </span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">React.StrictMode</span>&gt;</span>  </span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">App</span> /&gt;</span>  <span class="tag">&lt;/<span class="name">React.StrictMode</span>&gt;</span></span>);</span><br></pre></td></tr></table></figure><br>- App 组件是你引入的一个 React 组件<br>- 先在 App.jsx 文件里创建 JS 函数，函数里返回标签，这就是一个 React 组件了<br>&gt; 注意：<br>&gt; React 组件必须以大写字母开头<br>&gt; 最外层的标签必须闭合，这和 HTML 不同<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;  </span><br><span class="line">  <span class="keyword">return</span> (  </span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;App&quot;</span>&gt;</span>  </span></span><br><span class="line"><span class="language-xml">    Hello，World！</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>  );  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>- 要想组件在其他的组件里去使用要用 export defsult<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span>;</span><br></pre></td></tr></table></figure><br>##  添加样式<br>- 使用 className 指定一个样式表<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&quot;./App.css&quot;</span></span><br><span class="line">&lt;img className=<span class="string">&quot;demo&quot;</span>&gt;</span><br></pre></td></tr></table></figure><br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*在App.css文件中*/</span></span><br><span class="line"><span class="selector-class">.demo</span>&#123;</span><br><span class="line"><span class="attribute">width</span>：<span class="number">100px</span>;</span><br><span class="line"><span class="attribute">height</span>：<span class="number">100px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br># 条件渲染<br>- if 语句<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> content;  </span><br><span class="line"><span class="keyword">if</span> (isLoggedIn) &#123;  </span><br><span class="line">content = <span class="language-xml"><span class="tag">&lt;<span class="name">AdminPanel</span> /&gt;</span></span>;  </span><br><span class="line">&#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">content = <span class="language-xml"><span class="tag">&lt;<span class="name">LoginForm</span> /&gt;</span></span>;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="keyword">return</span> (  </span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>  </span></span><br><span class="line"><span class="language-xml">&#123;content&#125;  </span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>  </span><br><span class="line">);</span><br></pre></td></tr></table></figure><br>- 三元表达式<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> content;  </span><br><span class="line">content = isLoggedIn ? <span class="language-xml"><span class="tag">&lt;<span class="name">AdminPanel</span> /&gt;</span></span>:<span class="language-xml"><span class="tag">&lt;<span class="name">LoginForm</span> /&gt;</span></span>;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="keyword">return</span> (  </span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>  </span></span><br><span class="line"><span class="language-xml">&#123;content&#125;  </span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>  </span><br><span class="line">);</span><br></pre></td></tr></table></figure><br>- 短路运算（逻辑中断）<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;  </span><br><span class="line">&#123;isLoggedIn &amp;&amp; <span class="language-xml"><span class="tag">&lt;<span class="name">AdminPanel</span> /&gt;</span></span>&#125;  </span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><br>## 列表渲染<br>- 利用 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/map">Array 的 map 方法</a>来渲染列表<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> listItems = products.<span class="title function_">map</span>(<span class="function"><span class="params">product</span> =&gt;</span>  </span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&#123;product.id&#125;</span>&gt;</span>  </span></span><br><span class="line"><span class="language-xml">&#123;product.title&#125;  </span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span>  );</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> (  </span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span>&#123;listItems&#125;<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span>  </span><br><span class="line">);</span><br></pre></td></tr></table></figure><br>&gt; 循环的标签一定要有 key 属性，分配一个唯一的值，不然会有警告<br>## 响应事件<br>- 在函数组件内部声明一个事件处理函数来响应事件<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这是函数组件</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">MyButton</span>(<span class="params"></span>) &#123;  </span><br><span class="line"><span class="comment">//这是事件处理函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">handleClick</span>(<span class="params"></span>) &#123;  </span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&#x27;You clicked me!&#x27;</span>);  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> (</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;handleClick&#125;</span>&gt;</span>  </span></span><br><span class="line"><span class="language-xml">Click me  </span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span>  </span><br><span class="line">);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br># 组件<br>## 函数组件<br>- 函数名大写开头，函数内返回标签<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Hello</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="keyword">return</span> (</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>hello,world!<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>- 渲染函数组件<br>&gt; 直接使用<Hello/>标签<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">Hello</span>/&gt;</span></span>, root)</span><br></pre></td></tr></table></figure><br>- 箭头函数语法<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">Hello</span> = (<span class="params"></span>)=&gt; <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>Hello<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><br>## 类组件<br>1. 必须继承 React.Component 父类<br>2. 必须有一个 render 方法<br>3. render 方法必须要有返回值<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Hello</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span>&#123;</span><br><span class="line"><span class="title function_">render</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="keyword">return</span>(</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>- 类组件的渲染和函数组件一致<br>## 绑定事件<br>- 函数组件绑定事件<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">handleClick</span>(<span class="params"></span>)&#123;  </span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;abc&quot;</span>)  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;  </span><br><span class="line">  <span class="keyword">return</span> (  </span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;App&quot;</span>&gt;</span>  </span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;handleClick&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span>  </span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>  );  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>- 类组件绑定事件<br>&gt; 在类中定义事件函数，要用 <code>this.funName</code> 的方式引用<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Class</span> <span class="title class_">App</span> <span class="keyword">extends</span> <span class="title class_">React</span>.<span class="property">Component</span> &#123;</span><br><span class="line"><span class="title function_">handleClick</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;点击&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">render</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="keyword">return</span>(</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.hanleClick&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">) &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br> ## 事件对象<br>- 通过 preventDefault 方法获取到事件对象，阻止运行<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">handleClick</span>(<span class="params">e</span>)&#123;</span><br><span class="line"><span class="comment">//e就是这个点击事件的对象，也叫合成对象</span></span><br><span class="line">e.<span class="title function_">preventDefault</span>()<span class="comment">//阻止了链接的跳转</span></span><br><span class="line">&#125; </span><br><span class="line">&lt;a onClick=&#123;handleClick&#125;&gt;&lt;/a&gt;</span><br></pre></td></tr></table></figure><br># 插值和状态<br>## class 写法和 Hook 写法<br>&gt; 在前面说到 react 的组件由两种写法，一个是 class，一个是 function，在 react18 出来之前，函数组件是不能改变组件内部的值的，要做到动态的效果只能用 class，在 react18 出来之后，添加了一个新特性：Hook。可以在函数组件里定义变量，并修改变量了，在一些老的教程里没有提到这一点，我在这一点上吃了一点亏，既然官方推出了这个特新肯定是希望能成为主流去用的，比如在 react 官网教程里用的就是这个方式，所以在学习这一部分时，尽量还是以 Hook 为主，class 过一遍就好了<br>## class 写法<br>- 初始化数据：state &#x3D; {}，state 是组件内部的私有数据，只能在组件内部使用，相当于 java 对象的私有变量。state 的值是一个对象，表示组件内部的多个数据<br>- 修改数据：this.setState({要修改的值})，<code>注意：不能直接修改state</code><br>&gt; 注意，在事件函数里存在 this 指向的问题，非箭头函数函数不能直接使用 this.setState()，因为这个 this 不是 class 的 this。<br>&gt; 箭头函数没有他自己的 this，他的 this 是由外面一层的 this 决定的<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">App</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span>&#123;  </span><br><span class="line">  state=&#123;  </span><br><span class="line">    count : <span class="number">0</span>  </span><br><span class="line">  &#125;  </span><br><span class="line">  handleClick = <span class="function">()=&gt;</span>&#123;  </span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;  </span><br><span class="line">      <span class="attr">count</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">count</span> +<span class="number">1</span>  </span><br><span class="line">    &#125;)  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;  </span><br><span class="line">    <span class="keyword">return</span>( <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>  </span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;this.state.count&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>  </span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.handleClick&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span>  </span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>    )  </span><br><span class="line">  &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>##  Hook 写法</h2><h1 id="挂载和状态设置"><a href="#挂载和状态设置" class="headerlink" title="挂载和状态设置"></a>挂载和状态设置</h1><h1 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h1><h1 id=""><a href="#" class="headerlink" title=""></a></h1>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;categories&quot;&gt;&lt;a href=&quot;#categories&quot; class=&quot;headerlink&quot; title=&quot;categories:&quot;&gt;&lt;/a&gt;categories:&lt;/h2&gt;&lt;h2 id=&quot;这篇-React-基础入门是结合-React-和-TS-来使用</summary>
      
    
    
    
    <category term="前端学习" scheme="https://coding.lilming.top/categories/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/"/>
    
    
  </entry>
  
  <entry>
    <title>Go语言基础入门</title>
    <link href="https://coding.lilming.top/2023/06/20/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80%E7%9F%A5%E8%AF%86%E5%BA%93/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/"/>
    <id>https://coding.lilming.top/2023/06/20/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80%E7%9F%A5%E8%AF%86%E5%BA%93/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/</id>
    <published>2023-06-20T05:19:00.000Z</published>
    <updated>2023-09-08T13:03:58.089Z</updated>
    
    
    
    
    <category term="计算机语言知识库" scheme="https://coding.lilming.top/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80%E7%9F%A5%E8%AF%86%E5%BA%93/"/>
    
    
    <category term="后端" scheme="https://coding.lilming.top/tags/%E5%90%8E%E7%AB%AF/"/>
    
    <category term="语言基础" scheme="https://coding.lilming.top/tags/%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/"/>
    
  </entry>
  
  <entry>
    <title>深入理解TypeScript</title>
    <link href="https://coding.lilming.top/2023/06/20/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80%E7%9F%A5%E8%AF%86%E5%BA%93/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3TypeScript/"/>
    <id>https://coding.lilming.top/2023/06/20/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80%E7%9F%A5%E8%AF%86%E5%BA%93/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3TypeScript/</id>
    <published>2023-06-20T05:19:00.000Z</published>
    <updated>2023-09-08T03:59:08.943Z</updated>
    
    
    
    
    <category term="计算机语言知识库" scheme="https://coding.lilming.top/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80%E7%9F%A5%E8%AF%86%E5%BA%93/"/>
    
    
  </entry>
  
  <entry>
    <title>TypeScript基础入门</title>
    <link href="https://coding.lilming.top/2023/06/20/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80%E7%9F%A5%E8%AF%86%E5%BA%93/TypeScript%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/"/>
    <id>https://coding.lilming.top/2023/06/20/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80%E7%9F%A5%E8%AF%86%E5%BA%93/TypeScript%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/</id>
    <published>2023-06-20T05:19:00.000Z</published>
    <updated>2023-09-08T03:58:27.046Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>官方文档：<a href="https://www.tslang.cn/docs/home.html">TypeScript中文网 </a></p><h1 id="基础数据类型"><a href="#基础数据类型" class="headerlink" title="基础数据类型"></a>基础数据类型</h1><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">a</span>: <span class="built_in">string</span> = <span class="string">&quot;abc&quot;</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">b</span>: <span class="built_in">number</span> = <span class="number">123</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">c</span>: <span class="built_in">boolean</span> = <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="模板字符串"><a href="#模板字符串" class="headerlink" title="模板字符串"></a>模板字符串</h2><p>使用模板字符串可以定义多行文本和内嵌表达式</p><p>使用 **(`)符号包裹 ******，并且以 <code>$&#123;expr&#125;</code> 这种这种形式嵌入表达式</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">name</span>: <span class="built_in">string</span> = <span class="string">&#x27;tom&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">hello</span>: <span class="built_in">string</span> = <span class="string">`my name is <span class="subst">$&#123;name&#125;</span>`</span></span><br></pre></td></tr></table></figure><h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><p><code>Array</code> 直接在类型后加上 <code>[]</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">list</span>: <span class="built_in">number</span>[] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br></pre></td></tr></table></figure><p>使用数组泛型，<code>Array&lt;元素类型&gt;</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">list</span>: <span class="title class_">Array</span>&lt;<span class="built_in">number</span>&gt; = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br></pre></td></tr></table></figure><h2 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h2><p><code>Tuple</code> 存储的数据类型可不相同，元素数量和类型是固定的</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">x</span>: [stirng, <span class="built_in">number</span>];</span><br><span class="line">x = [<span class="string">&#x27;hello&#x27;</span>, <span class="number">10</span>]</span><br></pre></td></tr></table></figure><h2 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h2><p><code>enum</code> 能为一组数值赋值为对应的编号</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//默认按照0，1，3来编号</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Color</span> &#123;red, green, blue&#125;</span><br><span class="line"><span class="comment">//等同于</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Color</span> &#123;red = <span class="number">0</span>, green = <span class="number">1</span>, blue = <span class="number">2</span>&#125;</span><br><span class="line"><span class="comment">//也可以手动编号</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Color</span> &#123;red =  <span class="number">1</span>, green = <span class="number">2</span>, blue = <span class="number">4</span>&#125;</span><br></pre></td></tr></table></figure><p>根据键名赋键值，类型可以为 number 也可以为枚举对象</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Color</span> &#123;red, green, blue&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">x</span>: <span class="title class_">Color</span> = <span class="title class_">Color</span>.<span class="property">red</span><span class="comment">//x = 0</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">x</span>: <span class="built_in">number</span> = <span class="title class_">Color</span>.<span class="property">green</span><span class="comment">//x = 1</span></span><br></pre></td></tr></table></figure><p>根据键值赋键名</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Color</span> &#123;red, green, blue&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">x</span>: <span class="built_in">string</span> = <span class="title class_">Color</span>[<span class="number">0</span>]<span class="comment">//x = &#x27;red&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="Any"><a href="#Any" class="headerlink" title="Any"></a>Any</h2><p>在变量类型位置时，可以使用 <code>any</code> 类型</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">x</span>: <span class="built_in">any</span>[] = [];</span><br><span class="line">x.<span class="title function_">push</span>(<span class="string">&#x27;Hello&#x27;</span>);</span><br><span class="line">x.<span class="title function_">push</span>(<span class="number">1</span>);</span><br></pre></td></tr></table></figure><h2 id="Void"><a href="#Void" class="headerlink" title="Void"></a>Void</h2><p><code>void</code> 通常用于没有返回值的函数</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">funcation <span class="title function_">fun</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;hello，world&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>void</code> 类型类型的变量只能赋值为 <code>null</code> 和 <code>undefined</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">unusable</span>: <span class="built_in">void</span> = <span class="literal">undefined</span>;</span><br></pre></td></tr></table></figure><h2 id="Null-和-Undefined"><a href="#Null-和-Undefined" class="headerlink" title="Null 和 Undefined"></a>Null 和 Undefined</h2><ul><li>在默认情况下，null 和 undefined 是<strong>所有类型的子类</strong>，可以将 null 和 undefined 赋值给任何类型的变量</li><li>但在严格模式下，null 和 undefined 只能赋值给它们对应的类型，在这个模式下如果想传入一个 string 或 null 或 undefined 类型，可以使用联合类型 <code>string|null|undefined</code></li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//严格模式下</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">x</span>: <span class="built_in">string</span>|<span class="literal">null</span>|<span class="literal">undefined</span> = <span class="literal">null</span> </span><br></pre></td></tr></table></figure><h2 id="never"><a href="#never" class="headerlink" title="never"></a>never</h2><p><code>never</code> 类型表示不存在值的类型，用于抛出异常的函数，或无限循环下去的函数</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">error</span>(<span class="params"></span>): <span class="built_in">never</span> &#123;</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;error&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h2><p>Object 表示非原始类型，是除了 <code>number </code>，<code>string</code>，<code>boolean</code>，<code>symbol</code>，<code>null</code> 或 <code>undefined</code> 之外的类型</p><p>可以便于更好使用像 <code>Object.create</code> 这样的 API</p><p>使用 <code>typeof</code> 函数返回非原始类型变量都是 <code>Object</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">function</span> <span class="title function_">create</span>(<span class="params">o: <span class="built_in">object</span> | <span class="literal">null</span></span>):<span class="built_in">void</span>; </span><br><span class="line"><span class="title function_">create</span>(&#123; <span class="attr">prop</span>: <span class="number">0</span> &#125;); <span class="comment">// OK </span></span><br><span class="line"><span class="title function_">create</span>(<span class="literal">null</span>); <span class="comment">// OK </span></span><br><span class="line"><span class="title function_">create</span>(<span class="number">42</span>); <span class="comment">// Error </span></span><br><span class="line"><span class="title function_">create</span>(<span class="string">&quot;string&quot;</span>); <span class="comment">// Error</span></span><br><span class="line"><span class="title function_">create</span>(<span class="literal">false</span>); <span class="comment">// Error </span></span><br><span class="line"><span class="title function_">create</span>(<span class="literal">undefined</span>); <span class="comment">// Error</span></span><br></pre></td></tr></table></figure><h2 id="类型断言"><a href="#类型断言" class="headerlink" title="类型断言"></a>类型断言</h2><p>第一种方式：使用 <code>&lt;&gt;</code> <strong>(不推荐)</strong></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">someValue</span>: <span class="built_in">any</span> = <span class="string">&quot;this is a string&quot;</span>; <span class="keyword">let</span> <span class="attr">strLength</span>: <span class="built_in">number</span> = (&lt;<span class="built_in">string</span>&gt;someValue).<span class="property">length</span>;</span><br></pre></td></tr></table></figure><p>第二种方式：使用 <code>as</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">someValue</span>: <span class="built_in">any</span> = <span class="string">&quot;this is a string&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">strLength</span>: <span class="built_in">number</span> = (someValue <span class="keyword">as</span> <span class="built_in">string</span>).<span class="property">length</span>;</span><br></pre></td></tr></table></figure><p>在 tsx 中（react 项目里）由于尖括号和标签冲突，只能使用 <code>as</code> 的形式</p><h1 id="变量声明"><a href="#变量声明" class="headerlink" title="变量声明"></a>变量声明</h1><h2 id="var、let-和-const"><a href="#var、let-和-const" class="headerlink" title="var、let 和 const"></a>var、let 和 const</h2><ul><li>使用 <code>var</code> 声明一个变量，在其他函数内部是可以访问的，正是因为 var 存在着这样的问题，我们更推荐使用 <code>let</code></li><li>let 声明的变量只能在它的语法作用域或者块作用域使用</li><li><code>const</code> 的作用域与 <code>let</code> 类似，只是 <code>const</code> 在被创建后不能改变</li></ul><h2 id="解构"><a href="#解构" class="headerlink" title="解构"></a>解构</h2><h3 id="数组解构"><a href="#数组解构" class="headerlink" title="数组解构"></a>数组解构</h3><p>语法：<code>let [x, y] = array</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> input = [<span class="number">1</span>, <span class="number">2</span>]; </span><br><span class="line"><span class="keyword">let</span> [first, second] = input; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(first); <span class="comment">// outputs 1 </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(second); <span class="comment">// outputs 2</span></span><br></pre></td></tr></table></figure><ul><li>作用于函数参数可直接解构成参数</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> input = [<span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">f</span>(<span class="params">[first, second]: [<span class="built_in">number</span>, <span class="built_in">number</span>]</span>) &#123; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(first);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(second); </span><br><span class="line">&#125; </span><br><span class="line"><span class="title function_">f</span>(input);</span><br></pre></td></tr></table></figure><ul><li>可以用 <code>...</code> 语法来创建剩余的变量</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [frist, ...rest] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(frist)<span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(rest)<span class="comment">// [2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure><ul><li>若不关心其他变量，可以空着，只用 <code>,</code> 分隔</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [, second, , fourth] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br></pre></td></tr></table></figure><h3 id="对象解构"><a href="#对象解构" class="headerlink" title="对象解构"></a>对象解构</h3><p>语法： <code>let &#123;x, y&#125; = class</code>，结构的变量名要和对象的键名对应</p><p>下面的代码里的 a 和 b 没有指明类型，ts 也能正常运行，这是因为当你使用对象解构时，编译器会自动判断对象属性的类型</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o = &#123; <span class="attr">a</span>: <span class="string">&quot;foo&quot;</span>, <span class="attr">b</span>: <span class="number">12</span>, <span class="attr">c</span>: <span class="string">&quot;bar&quot;</span> &#125;; </span><br><span class="line"><span class="keyword">let</span> &#123; a, b &#125; = o;</span><br></pre></td></tr></table></figure><p>将对象解构用于函数声明中</p><p>type 作用就是给类型起一个新名字，和接口一样，用来描述对象或函数的类型，<code>?</code> 表示该类型可选</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> C = &#123; <span class="attr">a</span>: <span class="built_in">string</span>, b?: <span class="built_in">number</span> &#125; </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">f</span>(<span class="params">&#123; a, b &#125;: C</span>): <span class="built_in">void</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//相当于</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">f</span>(<span class="params">&#123; a, b &#125;: &#123;a:<span class="built_in">string</span>, b:<span class="built_in">number</span> &#125;</span>): <span class="built_in">void</span> &#123;&#125;</span><br></pre></td></tr></table></figure><h2 id="展开"><a href="#展开" class="headerlink" title="展开"></a>展开</h2><p>三个点 <code>...</code> 被称为扩展运算符。用于可迭代对象展开到每个元素</p><ol><li>合并数组</li></ol><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">const</span> arr2 = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line"><span class="keyword">const</span> mergedArray = [...arr1, ...arr2]; <span class="comment">// 结果：[1, 2, 3, 4, 5, 6]</span></span><br></pre></td></tr></table></figure><ol start="2"><li>复制数组</li></ol><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> originalArray = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">const</span> newArray = [...originalArray];</span><br></pre></td></tr></table></figure><ol start="3"><li>添加元素</li></ol><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">const</span> arr2 = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line">arr1.<span class="title function_">push</span>(...arr2); <span class="comment">// 结果：[1, 2, 3, 4, 5, 6]</span></span><br></pre></td></tr></table></figure><ol start="4"><li>函数参数</li></ol><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myFunction</span>(<span class="params">a: <span class="built_in">number</span>, b: <span class="built_in">number</span>, c: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(a + b + c);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> args = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="title function_">myFunction</span>(...args); <span class="comment">// 输出：6</span></span><br></pre></td></tr></table></figure><ol start="5"><li>对象扩展</li></ol><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj1 = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> obj2 = &#123; <span class="attr">c</span>: <span class="number">3</span>, <span class="attr">d</span>: <span class="number">4</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> mergedObject = &#123; ...obj1, ...obj2 &#125;; <span class="comment">// 结果：&#123;a: 1, b: 2, c: 3, d: 4&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h1><p>与 <code>type</code> 类似，都能用于定义变量的类型</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">InterfaceExample</span> &#123; <span class="attr">key</span>: <span class="built_in">string</span>; &#125; </span><br><span class="line"><span class="comment">// 使用type </span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">TypeExample</span> = &#123; <span class="attr">key</span>: <span class="built_in">string</span>; &#125;</span><br></pre></td></tr></table></figure><h2 id="接口和类型的区别"><a href="#接口和类型的区别" class="headerlink" title="接口和类型的区别"></a>接口和类型的区别</h2><ol><li><p>interface 与 type 能相互扩展:</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//interface能用extends来扩展</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Name</span> &#123; <span class="attr">name</span>: <span class="built_in">string</span>; &#125; </span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">User</span> <span class="keyword">extends</span> <span class="title class_">Name</span> &#123; <span class="attr">age</span>: <span class="built_in">number</span>; &#125;</span><br><span class="line"><span class="comment">//type能用 &amp; 来交叉类型</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Name</span> = &#123; <span class="attr">name</span>: <span class="built_in">string</span>; &#125;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">User</span> = <span class="title class_">Name</span> &amp; &#123; <span class="attr">age</span>: <span class="built_in">number</span> &#125;;</span><br><span class="line"><span class="comment">//interface扩展type</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Name</span> = &#123; <span class="attr">name</span>: <span class="built_in">string</span>; &#125; </span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">User</span> <span class="keyword">extends</span> <span class="title class_">Name</span> &#123; <span class="attr">age</span>: <span class="built_in">number</span>; &#125;</span><br><span class="line"><span class="comment">// type 与 interface 交叉 </span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Name</span> &#123; <span class="attr">name</span>: <span class="built_in">string</span>; &#125;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">User</span> = <span class="title class_">Name</span> &amp; &#123; <span class="attr">age</span>: <span class="built_in">number</span>; &#125;</span><br></pre></td></tr></table></figure></li><li><p><code>interface</code> 可以定义多次，属性会被合并，而 <code>type</code> 不能被定义多次</p></li></ol><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">User</span> &#123; <span class="attr">name</span>: <span class="built_in">string</span> <span class="attr">age</span>: <span class="built_in">number</span> &#125; </span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">User</span> &#123; <span class="attr">sex</span>: <span class="built_in">string</span> &#125; </span><br><span class="line"><span class="keyword">let</span> <span class="attr">user</span>:<span class="title class_">User</span>=&#123;<span class="attr">name</span>:<span class="string">&#x27;wang&#x27;</span>,<span class="attr">age</span>:<span class="number">1</span>,<span class="attr">sex</span>:<span class="string">&#x27;man&#x27;</span>&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li><code>type</code> 能定义映射类型</li></ol><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> aType &#123; <span class="attr">name</span>: <span class="built_in">string</span>; <span class="attr">age</span>: <span class="built_in">number</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用type定义映射类型 </span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">ReadonlyType</span>&lt;T&gt; = &#123; <span class="keyword">readonly</span> [key <span class="keyword">in</span> keyof T]: T[key]; &#125;; </span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> newType = <span class="title class_">ReadonlyType</span>&lt;aType&gt;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">type newType = &#123;</span></span><br><span class="line"><span class="comment"> readonly name: string;</span></span><br><span class="line"><span class="comment"> readonly age?: number;</span></span><br><span class="line"><span class="comment"> &#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><ol start="4"><li><code>type</code> 能定义条件类型</li></ol><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> arrayType = <span class="built_in">number</span>[];</span><br><span class="line"><span class="comment">// 使用type定义条件类型 </span></span><br><span class="line"><span class="comment">// infer能够自动推断传入的类型,之后会再讲到</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">ElementType</span>&lt;T&gt; = T <span class="keyword">extends</span> <span class="title class_">Array</span>&lt;infer U&gt; ? U : T;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> newType = <span class="title class_">Elementtype</span>&lt;arraytype&gt;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">type newType = number</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h2 id="可选属性"><a href="#可选属性" class="headerlink" title="可选属性"></a>可选属性</h2><p>在属性后加 <code>?</code> ,则该属性是可有可无的</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">IPerson</span> &#123;</span><br><span class="line"><span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">age?: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> tom : <span class="title class_">Iperson</span> = &#123;</span><br><span class="line"><span class="attr">name</span>: <span class="string">&#x27;tom&#x27;</span>,</span><br><span class="line"><span class="comment">//age: 21</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="任意属性"><a href="#任意属性" class="headerlink" title="任意属性"></a>任意属性</h2><p>语法：<code>[propName: type]: any</code> ，能允许类型添加别的属性</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">IPerson</span> &#123;</span><br><span class="line"><span class="attr">name</span>: <span class="title class_">String</span>;</span><br><span class="line">[<span class="attr">propName</span>: <span class="built_in">string</span>]: <span class="built_in">any</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> tom : <span class="title class_">Iperson</span> = &#123;</span><br><span class="line"><span class="attr">name</span>: <span class="string">&#x27;tom&#x27;</span>,</span><br><span class="line"><span class="attr">gender</span>: <span class="string">&#x27;male&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="只读属性"><a href="#只读属性" class="headerlink" title="只读属性"></a>只读属性</h2><p>被创建后不能被修改,用于对象在创建后就不能更改的属性</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">IPerson</span> &#123;</span><br><span class="line"><span class="keyword">readonly</span> <span class="attr">id</span>: <span class="built_in">string</span>;</span><br><span class="line"><span class="attr">name</span>: <span class="built_in">string</span> </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">p1</span>: <span class="title class_">IPerson</span> = &#123; <span class="attr">id</span>:<span class="number">001</span>, <span class="attr">name</span>:wdm&#125;;</span><br><span class="line">p1.<span class="property">id</span> = <span class="number">002</span>; <span class="comment">//error</span></span><br></pre></td></tr></table></figure><h3 id="只读数组类型"><a href="#只读数组类型" class="headerlink" title="只读数组类型"></a>只读数组类型</h3><p><code>ReadonlyArray&lt;T&gt;</code> 类型与 <code>Array&lt;T&gt;</code> 类似，只不过都是不可变的数据</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">a</span>: <span class="built_in">number</span>[] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">let</span> <span class="attr">ro</span>: <span class="title class_">ReadonlyArray</span>&lt;<span class="built_in">number</span>&gt; = a;</span><br><span class="line">ro[<span class="number">0</span>] = <span class="number">12</span>; <span class="comment">// error!</span></span><br><span class="line">ro.<span class="title function_">push</span>(<span class="number">5</span>); <span class="comment">// error!</span></span><br><span class="line">ro.<span class="property">length</span> = <span class="number">100</span>; <span class="comment">// error!</span></span><br><span class="line">a = ro; <span class="comment">// error!</span></span><br></pre></td></tr></table></figure><p>在最后一行代码，将 <code>ReadonlyArray</code> 赋值给一个普通的数组也是不行的，但是可以用类型重写，将 <code>ReadonlyArray</code> 强制转换为数组</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a = ro <span class="keyword">as</span> <span class="built_in">number</span>[];</span><br></pre></td></tr></table></figure><h2 id="可变属性"><a href="#可变属性" class="headerlink" title="可变属性"></a>可变属性</h2><p>如果要使类型的属性可变,可以使用 <code>[propName: string]: any</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">SquareConfig</span> &#123;</span><br><span class="line">    color?: <span class="built_in">string</span>;</span><br><span class="line">    width?: <span class="built_in">number</span>;</span><br><span class="line">    [<span class="attr">propName</span>: <span class="built_in">string</span>]: <span class="built_in">any</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//即使是拼写成了 colour 也不会报错,会自动添加一个colour属性</span></span><br><span class="line"><span class="keyword">let</span> squareOptions = &#123; <span class="attr">colour</span>: <span class="string">&quot;red&quot;</span>, <span class="attr">width</span>: <span class="number">100</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> mySquare = <span class="title function_">createSquare</span>(squareOptions);</span><br></pre></td></tr></table></figure><h2 id="函数类型"><a href="#函数类型" class="headerlink" title="函数类型"></a>函数类型</h2><p>接口能描述变量类型外,还能描述函数类型</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">SearchFunc</span> &#123;</span><br><span class="line">  (<span class="attr">source</span>: <span class="built_in">string</span>, <span class="attr">subString</span>: <span class="built_in">string</span>): <span class="built_in">boolean</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这能用于创建一个函数类型的变量,将一个函数赋值给一个变量</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">mySearch</span>: <span class="title class_">SearchFunc</span>;</span><br><span class="line">mySearch = <span class="keyword">function</span>(<span class="params">source: <span class="built_in">string</span>, subString: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> result = source.<span class="title function_">search</span>(subString);</span><br><span class="line">  <span class="keyword">return</span> result &gt; -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>函数里的参数名不必与接口定义的参数名相同</p><p>同时也可以不指定类型, TypeScript 会推断出参数的类型，因为已经指定了变量的函数类型</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">mySearch</span>: <span class="title class_">SearchFunc</span>;</span><br><span class="line">mySearch = <span class="keyword">function</span>(<span class="params">src, sub</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> result = src.<span class="title function_">search</span>(sub);</span><br><span class="line">    <span class="keyword">return</span> result &gt; -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="可索引类型"><a href="#可索引类型" class="headerlink" title="可索引类型"></a>可索引类型</h2><p>用于描述哪些可以通过索引得到数据的类型,类似于数组和字典,比如 <code>a[10]</code> 或 <code>ageMap[&quot;daniel&quot;]</code></p><p>只能使用 <code>string</code> 或 <code>number</code> 来作为索引</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">StringArray</span> &#123;</span><br><span class="line">  [<span class="attr">index</span>: <span class="built_in">number</span>]: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">myArray</span>: <span class="title class_">StringArray</span>;</span><br><span class="line">myArray = [<span class="string">&quot;Bob&quot;</span>, <span class="string">&quot;Fred&quot;</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">myStr</span>: <span class="built_in">string</span> = myArray[<span class="number">0</span>];</span><br></pre></td></tr></table></figure><p>也可以同时使用 <code>string</code> 和 <code>number</code> 作为索引</p><p>下面的代码在使用 <code>number</code> 索引时,由于 <code>Animal</code> 是父类型,也会匹配到 <code>Dog</code>,因此发生冲突<br>正确的做法是 <code>number</code> 返回的类型是 <code>string</code> 返回的类型的子类型</p><p>因为 <code>number</code> 实际上在 typescript 内部执行的时候会转换为 <code>string</code> ，所以这也要求 <code>string</code> 索引本身对应的类型是兼容所有的，也就是说 string 索引对应的类型必须是其他类型的父类。</p><p>举一个反例，比如 <code>number</code> 索引返回的类型是 <code>Animal</code>，TS 转换成 <code>string</code> 来去查找，但是 <code>string</code> 索引返回的类型是 <code>Dog</code>，<code>Animal</code> 不是 <code>Dog</code> 类型，编译器会报错。</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Animal</span> &#123;</span><br><span class="line">    <span class="attr">breed</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 错误：&#x27;string&#x27;索引对应的类型不兼容所有</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">NotOkay</span> &#123;</span><br><span class="line">    [<span class="attr">x</span>: <span class="built_in">number</span>]: <span class="title class_">Animal</span>;</span><br><span class="line">    [<span class="attr">x</span>: <span class="built_in">string</span>]: <span class="title class_">Dog</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//正确的做法:使用number索引时Dog都是Animal，字符串索引和数字索引返回的类型被视为一致</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">NotOkay</span> &#123;</span><br><span class="line">    [<span class="attr">x</span>: <span class="built_in">number</span>]: <span class="title class_">Dog</span>;</span><br><span class="line">    [<span class="attr">x</span>: <span class="built_in">string</span>]: <span class="title class_">Animal</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>字符串索引能够描述 <code>dictionary</code> 形式的变量,但是要保证所有 <code>string</code> 类型的属性返回值都和字符串索引的返回类型一致</p><p>因为字符串索引声明了 <code>obj.property</code> 和 <code>obj[&quot;property&quot;]</code> 两种形式都可以</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">NumberDictionary</span> &#123;</span><br><span class="line">  [<span class="attr">index</span>: <span class="built_in">string</span>]: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">length</span>: <span class="built_in">number</span>;    <span class="comment">// 可以，length是number类型</span></span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>       <span class="comment">// 错误，`name`的类型与索引类型返回值的类型不匹配</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如何为既有索引又有普通属性的变量初始化：</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">dict</span>: <span class="title class_">NumberDictionary</span> = &#123;</span><br><span class="line">  <span class="string">&#x27;1&#x27;</span>: <span class="number">2</span>,</span><br><span class="line">  <span class="string">&#x27;2&#x27;</span>: <span class="number">3</span>,</span><br><span class="line">  <span class="attr">length</span>: <span class="number">2</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="类的类型"><a href="#类的类型" class="headerlink" title="类的类型"></a>类的类型</h2><p>和 java 中的接口作用一致,用于抽象一个类的数据结构(ADT)</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">ClockInterface</span> &#123;</span><br><span class="line">    <span class="attr">currentTime</span>: <span class="title class_">Date</span>;</span><br><span class="line">    <span class="title function_">setTime</span>(<span class="attr">d</span>: <span class="title class_">Date</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Clock</span> <span class="keyword">implements</span> <span class="title class_">ClockInterface</span> &#123;</span><br><span class="line">    <span class="attr">currentTime</span>: <span class="title class_">Date</span>;</span><br><span class="line">    <span class="title function_">setTime</span>(<span class="params">d: <span class="built_in">Date</span></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">currentTime</span> = d;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">h: <span class="built_in">number</span>, m: <span class="built_in">number</span></span>) &#123; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="接口继承"><a href="#接口继承" class="headerlink" title="接口继承"></a>接口继承</h2><p>和类一样，接口也可以继承一个或多个接口</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">    <span class="attr">color</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Square</span> <span class="keyword">extends</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">    <span class="attr">sideLength</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> square = &lt;<span class="title class_">Square</span>&gt;&#123;&#125;;</span><br><span class="line">square.<span class="property">color</span> = <span class="string">&quot;blue&quot;</span>;</span><br><span class="line">square.<span class="property">sideLength</span> = <span class="number">10</span>;</span><br></pre></td></tr></table></figure><h2 id="混合类型"><a href="#混合类型" class="headerlink" title="混合类型"></a>混合类型</h2><p>使用接口的混合类型，你会得到一个对象同时也能当作函数来使用</p><p>创建混合类型对象的步骤：</p><ol><li>先通过函数表达式，将函数分配给一个变量</li><li>再使用 <code>Object.assign()</code> 方法将对象属性分配给该变量</li></ol><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Counter</span> &#123;</span><br><span class="line">    (<span class="attr">start</span>: <span class="built_in">number</span>): <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">interval</span>: <span class="built_in">number</span>;</span><br><span class="line">    <span class="title function_">reset</span>(): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getCounter</span>(<span class="params"></span>): <span class="title class_">Counter</span> &#123;</span><br><span class="line">    <span class="comment">// 创建一个具有指定函数签名的对象</span></span><br><span class="line">    <span class="keyword">const</span> counterFunction = <span class="keyword">function</span> (<span class="params">start: <span class="built_in">number</span></span>): <span class="built_in">string</span> &#123; <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>; &#125;;</span><br><span class="line">    <span class="comment">// 使用Object.assign将额外属性分配给counterFunction对象</span></span><br><span class="line">    <span class="keyword">const</span> <span class="attr">counter</span>: <span class="title class_">Counter</span> = <span class="title class_">Object</span>.<span class="title function_">assign</span>(counterFunction, &#123;</span><br><span class="line">        <span class="attr">interval</span>: <span class="number">123</span>,</span><br><span class="line">        <span class="attr">reset</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123; &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> counter;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> c = <span class="title function_">getCounter</span>();</span><br><span class="line"><span class="title function_">c</span>(<span class="number">10</span>);</span><br><span class="line">c.<span class="title function_">reset</span>();</span><br><span class="line">c.<span class="property">interval</span> = <span class="number">5.0</span>;</span><br></pre></td></tr></table></figure><h2 id="接口继承类"><a href="#接口继承类" class="headerlink" title="接口继承类"></a>接口继承类</h2><p>当一个接口继承了类后，该接口只能被这个类或其子类所实现</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Control</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="attr">state</span>: <span class="built_in">any</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">SelectableControl</span> <span class="keyword">extends</span> <span class="title class_">Control</span> &#123;</span><br><span class="line">    <span class="title function_">select</span>(): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Button</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Control</span> <span class="keyword">implements</span> <span class="title class_">SelectableControl</span> &#123;</span><br><span class="line">    <span class="title function_">select</span>(<span class="params"></span>) &#123; &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Image必须是Control或其子类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Image</span> <span class="keyword">implements</span> <span class="title class_">SelectableControl</span> &#123;</span><br><span class="line">    <span class="title function_">select</span>(<span class="params"></span>) &#123; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="类"><a href="#类" class="headerlink" title="类"></a>类</h1><h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><h2 id="属性修饰符"><a href="#属性修饰符" class="headerlink" title="属性修饰符"></a>属性修饰符</h2><table><thead><tr><th align="center">修饰符</th><th align="center">子类</th><th align="center">实例</th><th>能否被修改</th></tr></thead><tbody><tr><td align="center">public(默认)</td><td align="center">√</td><td align="center">√</td><td>√</td></tr><tr><td align="center">protected</td><td align="center">√</td><td align="center">×</td><td>√</td></tr><tr><td align="center">private</td><td align="center">×</td><td align="center">×</td><td>√</td></tr></tbody></table><blockquote><p><code>readonly</code>关键字用于将类成员声明为<strong>只读</strong>。这意味着成员的值只能在<strong>声明或构造函数</strong>中进行设置，不能在其他地方修改。<code>readonly</code>可以与<code>public</code>、<code>private</code>和<code>protected</code>修饰符结合使用。</p></blockquote><h3 id="public"><a href="#public" class="headerlink" title="public"></a>public</h3><p>在TypeScript里，成员都默认为<code>public</code>。</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">constructor</span>(<span class="params">theName: <span class="built_in">string</span></span>) &#123; <span class="variable language_">this</span>.<span class="property">name</span> = theName; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">move</span>(<span class="params">distanceInMeters: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> moved <span class="subst">$&#123;distanceInMeters&#125;</span>m.`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="protected"><a href="#protected" class="headerlink" title="protected"></a>protected</h3><p><code>protected</code> 成员只能在类和子类中可以访问</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>) &#123; <span class="variable language_">this</span>.<span class="property">name</span> = name; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Employee</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="attr">department</span>: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name: <span class="built_in">string</span>, department: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>(name)</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">department</span> = department;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">getElevatorPitch</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`Hello, my name is <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> and I work in <span class="subst">$&#123;<span class="variable language_">this</span>.department&#125;</span>.`</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> howard = <span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;Howard&quot;</span>, <span class="string">&quot;Sales&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(howard.<span class="title function_">getElevatorPitch</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(howard.<span class="property">name</span>); <span class="comment">// 错误</span></span><br></pre></td></tr></table></figure><p>构造函数也可以被标记成 <code>protected</code>。这意味着这个类不能在包含它的类外被实例化，但是能被继承。比如，</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="keyword">protected</span> <span class="title function_">constructor</span>(<span class="params">theName: <span class="built_in">string</span></span>) &#123; <span class="variable language_">this</span>.<span class="property">name</span> = theName; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Employee 能够继承 Person</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Employee</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="attr">department</span>: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name: <span class="built_in">string</span>, department: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>(name);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">department</span> = department;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">getElevatorPitch</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`Hello, my name is <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> and I work in <span class="subst">$&#123;<span class="variable language_">this</span>.department&#125;</span>.`</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> howard = <span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;Howard&quot;</span>, <span class="string">&quot;Sales&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> john = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;John&quot;</span>); <span class="comment">// 错误: &#x27;Person&#x27; 的构造函数是被保护的.</span></span><br></pre></td></tr></table></figure><p>TypeScript使用的是结构性类型系统。 当我们比较两种不同的类型时，并不在乎它们从何处而来，如果所有成员的类型都是兼容的，我们就认为它们的类型是兼容的。</p><p>然而，当我们比较带有 <code>private</code> 或 <code>protected</code> 成员的类型的时候，情况就不同了。如果其中一个类型里包含一个 <code>private</code> 成员，那么只有当另外一个类型中也存在这样一个 <code>private</code> 成员，并且它们都是来自同一处声明时，我们才认为这两个类型是兼容的。对于 <code>protected</code> 成员也使用这个规则。</p><p>下面来看一个例子，更好地说明了这一点：</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">theName: <span class="built_in">string</span></span>) &#123; <span class="variable language_">this</span>.<span class="property">name</span> = theName; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Rhino</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Animal</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123; <span class="variable language_">super</span>(<span class="string">&quot;Rhino&quot;</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Employee</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">theName: <span class="built_in">string</span></span>) &#123; <span class="variable language_">this</span>.<span class="property">name</span> = theName; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> animal = <span class="keyword">new</span> <span class="title class_">Animal</span>(<span class="string">&quot;Goat&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> rhino = <span class="keyword">new</span> <span class="title class_">Rhino</span>();</span><br><span class="line"><span class="keyword">let</span> employee = <span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;Bob&quot;</span>);</span><br><span class="line"></span><br><span class="line">animal = rhino;</span><br><span class="line">animal = employee; <span class="comment">// 错误: Animal 与 Employee 不兼容.</span></span><br></pre></td></tr></table></figure><h3 id="private"><a href="#private" class="headerlink" title="private"></a>private</h3><p>当成员被标记成<code>private</code>时，它就不能在声明它的类的外部访问</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">theName: <span class="built_in">string</span></span>) &#123; <span class="variable language_">this</span>.<span class="property">name</span> = theName; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Animal</span>(<span class="string">&quot;Cat&quot;</span>).<span class="property">name</span>; <span class="comment">// 错误: &#x27;name&#x27; 是私有的.</span></span><br></pre></td></tr></table></figure><h3 id="readonly"><a href="#readonly" class="headerlink" title="readonly"></a>readonly</h3><p>你可以使用 <code>readonly</code> 关键字将属性设置为只读的。只读属性必须在声明时或构造函数里被初始化。</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Octopus</span> &#123;</span><br><span class="line">    <span class="keyword">readonly</span> <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="keyword">readonly</span> <span class="attr">numberOfLegs</span>: <span class="built_in">number</span> = <span class="number">8</span>;</span><br><span class="line">    <span class="title function_">constructor</span> (<span class="attr">theName</span>: <span class="built_in">string</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = theName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> dad = <span class="keyword">new</span> <span class="title class_">Octopus</span>(<span class="string">&quot;Man with the 8 strong legs&quot;</span>);</span><br><span class="line">dad.<span class="property">name</span> = <span class="string">&quot;Man with the 3-piece suit&quot;</span>; <span class="comment">// 错误! name 是只读的.</span></span><br></pre></td></tr></table></figure><h2 id="存取器"><a href="#存取器" class="headerlink" title="存取器"></a>存取器</h2><p>TypeScript 支持通过 <code>get</code> 和 <code>set</code> 来截取对对象属性的操作。它能帮助你有效的控制对对象成员的读取和修改。</p><p>先将属性定义为 <code>private</code>, <code>get</code> 用来截取对象属性的读取, <code>set</code> 用来截取对象属性的修改</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> passcode = <span class="string">&quot;secret passcode&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Employee</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="attr">_fullName</span>: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">fullName</span>(): <span class="built_in">string</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">_fullName</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">set</span> <span class="title function_">fullName</span>(<span class="params">newName: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (passcode &amp;&amp; passcode === <span class="string">&quot;secret passcode&quot;</span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">_fullName</span> = newName;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Error: Unauthorized update of employee!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> employee = <span class="keyword">new</span> <span class="title class_">Employee</span>();</span><br><span class="line"><span class="comment">//对fullName赋值时,会运行set fullName()</span></span><br><span class="line">employee.<span class="property">fullName</span> = <span class="string">&quot;Bob Smith&quot;</span>;</span><br><span class="line"><span class="comment">//读取fullName时,会运行get fullName()</span></span><br><span class="line"><span class="keyword">if</span> (employee.<span class="property">fullName</span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(employee.<span class="property">fullName</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="静态属性"><a href="#静态属性" class="headerlink" title="静态属性"></a>静态属性</h2><p><code>static</code> 修饰符使得该属性只存在于该对象中,所有由该对象创建的实例都使用同一个属性值</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Grid</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> origin = &#123;<span class="attr">x</span>: <span class="number">0</span>, <span class="attr">y</span>: <span class="number">0</span>&#125;;</span><br><span class="line">    <span class="title function_">calculateDistanceFromOrigin</span>(<span class="params">point: &#123;x: <span class="built_in">number</span>; y: <span class="built_in">number</span>;&#125;</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> xDist = (point.<span class="property">x</span> - <span class="title class_">Grid</span>.<span class="property">origin</span>.<span class="property">x</span>);</span><br><span class="line">        <span class="keyword">let</span> yDist = (point.<span class="property">y</span> - <span class="title class_">Grid</span>.<span class="property">origin</span>.<span class="property">y</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">sqrt</span>(xDist * xDist + yDist * yDist) / <span class="variable language_">this</span>.<span class="property">scale</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">constructor</span> (<span class="keyword">public</span> <span class="attr">scale</span>: <span class="built_in">number</span>) &#123; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> grid1 = <span class="keyword">new</span> <span class="title class_">Grid</span>(<span class="number">1.0</span>);  <span class="comment">// 1x scale</span></span><br><span class="line"><span class="keyword">let</span> grid2 = <span class="keyword">new</span> <span class="title class_">Grid</span>(<span class="number">5.0</span>);  <span class="comment">// 5x scale</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(grid1.<span class="title function_">calculateDistanceFromOrigin</span>(&#123;<span class="attr">x</span>: <span class="number">10</span>, <span class="attr">y</span>: <span class="number">10</span>&#125;));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(grid2.<span class="title function_">calculateDistanceFromOrigin</span>(&#123;<span class="attr">x</span>: <span class="number">10</span>, <span class="attr">y</span>: <span class="number">10</span>&#125;));</span><br></pre></td></tr></table></figure><h2 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h2><p>抽象类做为其它派生类的基类使用，它们一般不会直接被实例化。不同于接口，抽象类可以包含成员的实现细节</p><h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><h2 id="函数声明和函数表达式"><a href="#函数声明和函数表达式" class="headerlink" title="函数声明和函数表达式"></a>函数声明和函数表达式</h2><p>函数声明和函数表达式的区别：<br>    - 函数声明会在浏览器在执行代码时被扫描，创建一个变量来储存指向该函数的引用<br>    - 函数表达式则是将函数赋值给一个变量来储存</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//函数声明</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">x: <span class="built_in">number</span>,y: <span class="built_in">number</span></span>): <span class="built_in">number</span>&#123;</span><br><span class="line"><span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//函数表达式</span></span><br><span class="line"><span class="keyword">let</span> add = <span class="keyword">function</span>(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>): <span class="built_in">number</span>&#123;</span><br><span class="line"><span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//箭头函数</span></span><br><span class="line"><span class="keyword">let</span> add = (<span class="attr">x</span>: <span class="built_in">number</span>, <span class="attr">y</span>: <span class="built_in">number</span> ): <span class="function"><span class="params">number</span> =&gt;</span>&#123;</span><br><span class="line"><span class="keyword">return</span> x + y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="接口定义函数"><a href="#接口定义函数" class="headerlink" title="接口定义函数"></a>接口定义函数</h2><p>接口内要用 <code>()</code> 包裹函数的参数</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Add</span>&#123;</span><br><span class="line">(<span class="attr">x</span>: <span class="built_in">number</span>, <span class="attr">y</span>: <span class="built_in">number</span>): <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">add</span>: <span class="title class_">IAdd</span> = <span class="keyword">function</span>(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>): <span class="built_in">number</span>&#123;</span><br><span class="line"><span class="keyword">return</span> x+y</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="可选参数"><a href="#可选参数" class="headerlink" title="可选参数"></a>可选参数</h2><p>参数后加 <code>?</code> 表示该参数是可选的，要对没有传入可选参数的情况做一个判断，通常可选参数都有个默认值，也就是默认参数</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">name</span>(<span class="params">firstName: <span class="built_in">string</span>, lastName?:<span class="built_in">string</span></span>)&#123;</span><br><span class="line"><span class="keyword">if</span>(lastName)&#123;</span><br><span class="line"><span class="keyword">return</span> firstName+<span class="string">&#x27; &#x27;</span>+lastName;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="keyword">return</span> firstName;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">name</span>(<span class="string">&#x27;lilming&#x27;</span>);</span><br></pre></td></tr></table></figure><h2 id="默认参数"><a href="#默认参数" class="headerlink" title="默认参数"></a>默认参数</h2><p>可选参数和默认参数类似，可以有也可以没有。但是可选参数必须在必选参数后面；默认参数没有这个限制</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">name</span>(<span class="params">lastName:<span class="built_in">string</span> = <span class="string">&#x27;wang&#x27;</span> ,firstName: <span class="built_in">string</span> </span>)&#123;</span><br><span class="line"><span class="keyword">return</span> firstName + <span class="string">&#x27; &#x27;</span> + lastName;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">name</span>(<span class="string">&#x27;daiming&#x27;</span>);</span><br></pre></td></tr></table></figure><h2 id="获取剩余参数"><a href="#获取剩余参数" class="headerlink" title="获取剩余参数"></a>获取剩余参数</h2><p><code>...</code> 在变量之前可以获取剩下的其他变量</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">push</span>(<span class="params">a:<span class="built_in">any</span>[], ...items:<span class="built_in">any</span>[]</span>)&#123;</span><br><span class="line">items.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>)=&gt;</span>&#123;</span><br><span class="line">a.<span class="title function_">push</span>(item)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="title function_">push</span>(a,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>)</span><br></pre></td></tr></table></figure><h2 id="函数重载"><a href="#函数重载" class="headerlink" title="函数重载"></a>函数重载</h2><p>利用联合类型参数，通过 <code>if</code> 判断参数类型</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">reverse</span>(<span class="params">x: <span class="built_in">number</span></span>): <span class="built_in">number</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">reverse</span>(<span class="params">x: <span class="built_in">string</span></span>): <span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">reverse</span>(<span class="params">x: <span class="built_in">number</span>| <span class="built_in">String</span></span>): <span class="built_in">number</span>| <span class="title class_">String</span>| <span class="built_in">void</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">typeof</span> x ===<span class="string">&#x27;number&#x27;</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="title class_">Number</span>(x.<span class="property">tostring</span>.<span class="title function_">split</span>(<span class="string">&#x27;&#x27;</span>).<span class="title function_">reverse</span>().<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>));</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="keyword">return</span> x.<span class="title function_">split</span>(<span class="string">&#x27;&#x27;</span>).<span class="property">reverse</span>.<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="this-和箭头函数"><a href="#this-和箭头函数" class="headerlink" title="this 和箭头函数"></a>this 和箭头函数</h2><p>箭头函数会捕获包含它们的上下文中的 <code>this</code> 值，箭头函数中的 <code>this</code> 和外层的 <code>this</code> 是一致的。而普通函数中的 <code>this</code> 指向全局对象（在浏览器中是 <code>window</code>，在 Node.js 中是 <code>global</code>）</p><p>下面的例子中，一个对象的函数返回了一个函数，被返回的函数内使用了该对象的属性，则该函数要用<strong>箭头函数</strong>，而不是普通的函数</p><p>因为在该函数被创建之后（被赋值了之后），他的 <code>this</code> 需要是对象的，而不是它自身的，这就需要使用<strong>箭头函数</strong></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Card</span> &#123;</span><br><span class="line">    <span class="attr">suit</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">card</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Deck</span> &#123;</span><br><span class="line">    <span class="attr">suits</span>: <span class="built_in">string</span>[];</span><br><span class="line">    <span class="attr">cards</span>: <span class="built_in">number</span>[];</span><br><span class="line">    <span class="title function_">createCardPicker</span>(<span class="attr">this</span>: <span class="title class_">Deck</span>): <span class="function">() =&gt;</span> <span class="title class_">Card</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">deck</span>: <span class="title class_">Deck</span> = &#123;</span><br><span class="line">    <span class="attr">suits</span>: [<span class="string">&quot;hearts&quot;</span>, <span class="string">&quot;spades&quot;</span>, <span class="string">&quot;clubs&quot;</span>, <span class="string">&quot;diamonds&quot;</span>],</span><br><span class="line">    <span class="attr">cards</span>: <span class="title class_">Array</span>(<span class="number">52</span>),</span><br><span class="line"></span><br><span class="line">    <span class="attr">createCardPicker</span>: <span class="keyword">function</span>(<span class="params"><span class="variable language_">this</span>: Deck</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> pickedCard = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">52</span>);</span><br><span class="line">            <span class="keyword">let</span> pickedSuit = <span class="title class_">Math</span>.<span class="title function_">floor</span>(pickedCard / <span class="number">13</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> &#123;<span class="attr">suit</span>: <span class="variable language_">this</span>.<span class="property">suits</span>[pickedSuit], <span class="attr">card</span>: pickedCard % <span class="number">13</span>&#125;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> cardPicker = deck.<span class="title function_">createCardPicker</span>();</span><br><span class="line"><span class="keyword">let</span> pickedCard = <span class="title function_">cardPicker</span>();</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;card: &quot;</span> + pickedCard.<span class="property">card</span> + <span class="string">&quot; of &quot;</span> + pickedCard.<span class="property">suit</span>);</span><br></pre></td></tr></table></figure><h1 id="重载"><a href="#重载" class="headerlink" title="重载"></a>重载</h1><p>如果一个函数可能会有不同类型的参数传入，采用可选参数和 <code>if</code> 来处理会使代码可读性下降很多，可以采用函数重载来限定不同类型的参数</p><p>例如：</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">padding</span>(<span class="params">all: <span class="built_in">number</span></span>);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">padding</span>(<span class="params">topAndBottom: <span class="built_in">number</span>, leftAndRight: <span class="built_in">number</span></span>);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">padding</span>(<span class="params">top: <span class="built_in">number</span>, right: <span class="built_in">number</span>, bottom: <span class="built_in">number</span>, left: <span class="built_in">number</span></span>);</span><br><span class="line"><span class="comment">// 上面三个是函数重载，规定只能用这三种形式的参数</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">padding</span>(<span class="params">a: <span class="built_in">number</span>, b?: <span class="built_in">number</span>, c?: <span class="built_in">number</span>, d?: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (b === <span class="literal">undefined</span> &amp;&amp; c === <span class="literal">undefined</span> &amp;&amp; d === <span class="literal">undefined</span>) &#123;</span><br><span class="line">    b = c = d = a;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (c === <span class="literal">undefined</span> &amp;&amp; d === <span class="literal">undefined</span>) &#123;</span><br><span class="line">    c = a;</span><br><span class="line">    d = b;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">top</span>: a,</span><br><span class="line">    <span class="attr">right</span>: b,</span><br><span class="line">    <span class="attr">bottom</span>: c,</span><br><span class="line">    <span class="attr">left</span>: d</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>之后在调用时，就只能使用前面三种的参数形式</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">padding</span>(<span class="number">1</span>); <span class="comment">// Okay: all</span></span><br><span class="line"><span class="title function_">padding</span>(<span class="number">1</span>, <span class="number">1</span>); <span class="comment">// Okay: topAndBottom, leftAndRight</span></span><br><span class="line"><span class="title function_">padding</span>(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>); <span class="comment">// Okay: top, right, bottom, left</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">padding</span>(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>); <span class="comment">// Error: Not a part of the available overloads</span></span><br></pre></td></tr></table></figure><p>64 4 16 20 16 </p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;官方文档：&lt;a href=&quot;https://www.tslang.cn/docs/home.html&quot;&gt;TypeScript中文网 &lt;/a&gt;</summary>
      
    
    
    
    <category term="计算机语言知识库" scheme="https://coding.lilming.top/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80%E7%9F%A5%E8%AF%86%E5%BA%93/"/>
    
    
  </entry>
  
  <entry>
    <title>Springboot后端 + 前端部署流程</title>
    <link href="https://coding.lilming.top/2023/06/20/%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/Springboot%E5%90%8E%E7%AB%AF%20+%20%E5%89%8D%E7%AB%AF%E9%83%A8%E7%BD%B2%E6%B5%81%E7%A8%8B/"/>
    <id>https://coding.lilming.top/2023/06/20/%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/Springboot%E5%90%8E%E7%AB%AF%20+%20%E5%89%8D%E7%AB%AF%E9%83%A8%E7%BD%B2%E6%B5%81%E7%A8%8B/</id>
    <published>2023-06-20T05:19:00.000Z</published>
    <updated>2023-09-08T03:57:12.969Z</updated>
    
    <content type="html"><![CDATA[<h1 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h1><ul><li>mysql 版本:5.7 以上</li><li>不区分大小写：在[mysqlid]下加上 <code>lower_case_table_names=1</code></li></ul><h1 id="后端"><a href="#后端" class="headerlink" title="后端"></a>后端</h1><ul><li>安装 jdk8</li><li>jar 包运行<ul><li>查看 8080 端口占用：lsof -i:8080</li><li>杀死进程（PID）：kill -9 {PID}</li><li>nohup 不中断运行：nohup java -jar xxx.jar &gt;&gt; log 2&gt;&amp;1 &amp;</li><li>在 log 中查看日志</li></ul></li></ul><h1 id="前端"><a href="#前端" class="headerlink" title="前端"></a>前端</h1><ul><li>nginx 安装包下载：wget <a href="http://nginx.org/download/nginx-1.24.0.tar.gz">http://nginx.org/download/nginx-1.24.0.tar.gz</a></li><li>nginx 安装：tar zxvf nginx-1.24.0.tar.gz <ul><li>cd nginx-1.24.0</li><li>.&#x2F;configure &amp;&amp; make &amp;&amp; make install</li></ul></li><li>将打包好的文件拖到 &#x2F;usr&#x2F;local&#x2F;nginx&#x2F;html 中</li><li>配置：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"># 启动nginx压缩</span><br><span class="line">    gzip on;</span><br><span class="line">    gzip_min_length 1k;</span><br><span class="line">    gzip_comp_level 9;</span><br><span class="line">    gzip_types text/plain application/javascript application/x-javascript text/css application/xml text/javascript application/x-httpd-php image/jpeg image/gif image/png;</span><br><span class="line">    gzip_vary on;</span><br><span class="line">    gzip_disable &quot;MSIE [1-6]\.&quot;;</span><br><span class="line">    </span><br><span class="line">server &#123;</span><br><span class="line">    listen       8000;</span><br><span class="line">    server_name  localhost;</span><br><span class="line">    </span><br><span class="line">    root html;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">         </span><br><span class="line"> try_files $uri $uri/ /index.html;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">location  /jeecgboot/ &#123;</span><br><span class="line"></span><br><span class="line">proxy_pass         http://127.0.0.1:8080/jeecg-boot/;</span><br><span class="line">proxy_redirect off;</span><br><span class="line"></span><br><span class="line">proxy_set_header  Host             $host;</span><br><span class="line">proxy_set_header  X-Real-IP        $remote_addr;</span><br><span class="line">set $my_proxy_add_x_forwarded_for $proxy_add_x_forwarded_for;</span><br><span class="line">if ($proxy_add_x_forwarded_for ~* &quot;127.0.0.1&quot;)&#123;</span><br><span class="line">   set $my_proxy_add_x_forwarded_for $remote_addr;</span><br><span class="line">&#125;</span><br><span class="line">proxy_set_header   X-Forwarded-For $my_proxy_add_x_forwarded_for;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    error_page   500 502 503 504  /50x.html;</span><br><span class="line">    location = /50x.html &#123;</span><br><span class="line">        root   html;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>重启配置：.&#x2F;nginx -c &#x2F;usr&#x2F;local&#x2F;nginx&#x2F;conf&#x2F;nginx.conf</li><li>重新运行：sudo .&#x2F;nginx -s reload</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;数据库&quot;&gt;&lt;a href=&quot;#数据库&quot; class=&quot;headerlink&quot; title=&quot;数据库&quot;&gt;&lt;/a&gt;数据库&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;mysql 版本:5.7 以上&lt;/li&gt;
&lt;li&gt;不区分大小写：在[mysqlid]下加上 &lt;code&gt;lower_ca</summary>
      
    
    
    
    <category term="项目开发" scheme="https://coding.lilming.top/categories/%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/"/>
    
    
  </entry>
  
  <entry>
    <title>在校学生表和开课明细表的Exel导入的格式</title>
    <link href="https://coding.lilming.top/2023/06/20/%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/%E5%9C%A8%E6%A0%A1%E5%AD%A6%E7%94%9F%E8%A1%A8%E5%92%8C%E5%BC%80%E8%AF%BE%E6%98%8E%E7%BB%86%E8%A1%A8%E7%9A%84Exel%E5%AF%BC%E5%85%A5%E7%9A%84%E6%A0%BC%E5%BC%8F/"/>
    <id>https://coding.lilming.top/2023/06/20/%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/%E5%9C%A8%E6%A0%A1%E5%AD%A6%E7%94%9F%E8%A1%A8%E5%92%8C%E5%BC%80%E8%AF%BE%E6%98%8E%E7%BB%86%E8%A1%A8%E7%9A%84Exel%E5%AF%BC%E5%85%A5%E7%9A%84%E6%A0%BC%E5%BC%8F/</id>
    <published>2023-06-20T05:19:00.000Z</published>
    <updated>2023-09-08T03:55:52.393Z</updated>
    
    <content type="html"><![CDATA[<h1 id="格式说明"><a href="#格式说明" class="headerlink" title="格式说明"></a>格式说明</h1><ul><li>标题占两行，字段占一行</li><li>标题的内容和格式没有要求，只要保证字段在第三行就行<blockquote><p>导入导出的格式保持一致，可以通过导出功能得到前三行的格式</p></blockquote></li></ul><ol><li>导入在校学生明细表的字段：<br> ![[af8914eae9c2130b45fd4ac61c203e1.png]]</li><li>导入开课明细表的字段：<br>![[5e5de841d76197296ed23007b5c5a29.png]]</li></ol><ul><li>关于日期字段的导入格式<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Excel(name = &quot;年度&quot;, width = 15, format = &quot;yyyy-MM-dd&quot;)</span>  </span><br><span class="line"><span class="keyword">private</span> Date yearly;</span><br></pre></td></tr></table></figure>导入的格式保持“yyyy-MM-dd”，否则会导入失败<br>例如：2023-01-03</li></ul><h1 id="有关外键的字段"><a href="#有关外键的字段" class="headerlink" title="有关外键的字段"></a>有关外键的字段</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Excel(name = &quot;专业名称&quot;, width = 15, dictTable = &quot;bd_disciplines&quot;, dicText = &quot;cname&quot;, dicCode = &quot;id&quot;)</span>   </span><br><span class="line"><span class="keyword">private</span> String disciplinesId;</span><br></pre></td></tr></table></figure><ul><li>注解作用：能够将名称直接对应到关联表的ID，将名称转化成ID储存进数据库</li><li>参数说明：<ul><li>name：导入导出的显示在表头的字段名</li><li>dictTable：外键关联的表名</li><li>dictText：导入导出时显示的字段值</li><li>dictCode：在存储到数据库里的值</li></ul></li><li>存在的问题：没办法很好地处理脏数据<ul><li>比如下面有两个脏数据：![[5d602013af0e7a0069e597a7f8901a7.png]]</li><li>导入之后页面展示的效果是这样的：![[17b6330ecb967e9d62c023e98db5e11.png]]</li><li>数据库里是这样的：<br>  ![[94a8a96071b56f6612e52f23600229d.png]]</li></ul></li><li>操作者是不看数据库的，只看前端的页面也不知道是哪个数据有问题，所以最好是把这两个数据设置成null，这样只要字段值是空的操作者就知道是哪里有问题了再去手动操作，方便操作者修改<blockquote><p>补充说明：dept_name_upload和disciplines_name_upload是没有用到的。我和潘时煌一致认为着两个字段有点数据冗余了</p></blockquote></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;格式说明&quot;&gt;&lt;a href=&quot;#格式说明&quot; class=&quot;headerlink&quot; title=&quot;格式说明&quot;&gt;&lt;/a&gt;格式说明&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;标题占两行，字段占一行&lt;/li&gt;
&lt;li&gt;标题的内容和格式没有要求，只要保证字段在第三行就行&lt;blockquot</summary>
      
    
    
    
    <category term="项目开发" scheme="https://coding.lilming.top/categories/%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/"/>
    
    
  </entry>
  
  <entry>
    <title>MySQL基础</title>
    <link href="https://coding.lilming.top/2023/04/26/SQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL%E5%9F%BA%E7%A1%80/"/>
    <id>https://coding.lilming.top/2023/04/26/SQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL%E5%9F%BA%E7%A1%80/</id>
    <published>2023-04-26T07:16:00.000Z</published>
    <updated>2023-09-08T13:04:48.110Z</updated>
    
    <content type="html"><![CDATA[<h1 id="数据库基本操作"><a href="#数据库基本操作" class="headerlink" title="数据库基本操作"></a>数据库基本操作</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> DATABASES<span class="comment">--显示所有数据库</span></span><br><span class="line"><span class="keyword">CREATE</span> DATABASES 数据库名<span class="comment">--创建数据库</span></span><br><span class="line">USE 数据库名称<span class="comment">--切换默认数据库 </span></span><br><span class="line"><span class="keyword">DROP</span> DATABASE 数据库名<span class="comment">--删除数据库</span></span><br></pre></td></tr></table></figure><h1 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h1><p>基础的数据类型忽略，只用重点看下面两个数据类型</p><h2 id="enum单选"><a href="#enum单选" class="headerlink" title="enum单选"></a>enum单选</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">enum(<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;女&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="set多选"><a href="#set多选" class="headerlink" title="set多选"></a>set多选</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span>(<span class="string">&#x27;打球&#x27;</span>,<span class="string">&#x27;下棋&#x27;</span>,<span class="string">&#x27;音乐&#x27;</span>,<span class="string">&#x27;游泳&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="定点数"><a href="#定点数" class="headerlink" title="定点数"></a>定点数</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">decimal</span>(M,D)</span><br></pre></td></tr></table></figure><ul><li>M是最大位数（精度），范围是1到65。可不指定，默认值是10。</li><li>D是小数点右边的位数（小数位）。范围是0到30，并且不能大于M，可不指定，默认值是0。</li></ul><h1 id="新增表create"><a href="#新增表create" class="headerlink" title="新增表create"></a>新增表create</h1><h2 id="创建表副本"><a href="#创建表副本" class="headerlink" title="创建表副本"></a>创建表副本</h2><blockquote><p>注意，创建的副本没有定义主键和自动增加属性，要手动添加</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> orders_archived <span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> orders</span><br></pre></td></tr></table></figure><ul><li>利用where语句<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> orders_archived <span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> orders</span><br><span class="line"><span class="keyword">where</span> order_data <span class="operator">&lt;</span><span class="string">&#x27;2019-01-01&#x27;</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="创建自定义表"><a href="#创建自定义表" class="headerlink" title="创建自定义表"></a>创建自定义表</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="string">&#x27;表名&#x27;</span>(</span><br><span class="line"><span class="string">&#x27;列名1&#x27;</span>    数据类型</span><br><span class="line"><span class="string">&#x27;列名2&#x27;</span>    数据类型</span><br><span class="line"><span class="string">&#x27;列名3&#x27;</span>    数据类型</span><br><span class="line"><span class="string">&#x27;列名4&#x27;</span>    数据类型</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h2 id="外键的设置"><a href="#外键的设置" class="headerlink" title="外键的设置"></a>外键的设置</h2><ul><li><strong>子表的外键必须是主表的主键</strong><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student_score(</span><br><span class="line">number <span class="type">int</span></span><br><span class="line">subject <span class="type">varchar</span>(<span class="number">30</span>)</span><br><span class="line">score tinyint </span><br><span class="line"><span class="keyword">constraint</span> poreign key(number) <span class="keyword">references</span> student_info(number)</span><br><span class="line">)</span><br></pre></td></tr></table></figure></li></ul><h1 id="删除表drop"><a href="#删除表drop" class="headerlink" title="删除表drop"></a>删除表drop</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> 表<span class="number">1</span>，表<span class="number">2</span>，表<span class="number">3</span></span><br></pre></td></tr></table></figure><ul><li>删除不存在的表会报错，要判断一下是否存在<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> 表<span class="number">1</span>，表<span class="number">2</span>，表<span class="number">3</span></span><br></pre></td></tr></table></figure></li></ul><h1 id="增加记录insert"><a href="#增加记录insert" class="headerlink" title="增加记录insert"></a>增加记录insert</h1><h2 id="表设置"><a href="#表设置" class="headerlink" title="表设置"></a>表设置</h2><table><thead><tr><th>Datatype</th><th></th></tr></thead><tbody><tr><td>PK</td><td>主键</td></tr><tr><td>NN</td><td>非空</td></tr><tr><td>UQ</td><td>唯一</td></tr><tr><td>B</td><td>二进制</td></tr><tr><td>UN</td><td>非负数，比text更大</td></tr><tr><td>ZF</td><td>填充，如Datatype是int(4)，内容是1，显示0001</td></tr><tr><td>AI</td><td>自动增加</td></tr><tr><td>G</td><td>生成列，这一列由其他列计算而得</td></tr><tr><td>Default&#x2F;Expression</td><td>默认值</td></tr></tbody></table><h2 id="默认插入"><a href="#默认插入" class="headerlink" title="默认插入"></a>默认插入</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> customers</span><br><span class="line"><span class="keyword">values</span>(</span><br><span class="line"><span class="keyword">default</span>,</span><br><span class="line">  <span class="string">&#x27;first_name&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;last_name&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;birthday&#x27;</span>,</span><br><span class="line">  <span class="keyword">null</span>,</span><br><span class="line">  <span class="string">&#x27;address&#x27;</span></span><br><span class="line">  <span class="string">&#x27;city&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;state&#x27;</span>,</span><br><span class="line">  <span class="keyword">default</span></span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><a name="ulh2s"></a></p><h2 id="指定插入，多行插入"><a href="#指定插入，多行插入" class="headerlink" title="指定插入，多行插入"></a>指定插入，多行插入</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> shippers(shipper_id,name)</span><br><span class="line"><span class="keyword">values</span></span><br><span class="line">(<span class="string">&#x27;id1&#x27;</span>,<span class="string">&#x27;name1&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;id2&#x27;</span>,<span class="string">&#x27;name2&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;id3&#x27;</span>,<span class="string">&#x27;name3&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;id4&#x27;</span>,<span class="string">&#x27;name4&#x27;</span>),</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><a name="vfmzO"></a></p><h2 id="last-insert-id主子表连接"><a href="#last-insert-id主子表连接" class="headerlink" title="last_insert_id主子表连接"></a>last_insert_id主子表连接</h2><blockquote><p>会返回上一次插入操作后的最后一个id值</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> orders(customer_id,order_date,status)</span><br><span class="line"><span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;2019-01-02&#x27;</span>,<span class="string">&#x27;1&#x27;</span>);</span><br><span class="line"><span class="keyword">select</span> LAST_INSERT_ID()</span><br></pre></td></tr></table></figure><ul><li>在子表中插入关联的id值<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> orders(customer_id,order_date,status)</span><br><span class="line"><span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;2019-01-02&#x27;</span>,<span class="string">&#x27;1&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> order_items</span><br><span class="line"><span class="keyword">values</span></span><br><span class="line">(last_insert_id,<span class="number">1</span>,<span class="number">1</span>,<span class="number">2.95</span>),</span><br><span class="line">(last_insert_id,<span class="number">2</span>,<span class="number">1</span>,<span class="number">2.95</span>)</span><br></pre></td></tr></table></figure><a name="SfaXj"></a></li></ul><h1 id="删除delete"><a href="#删除delete" class="headerlink" title="删除delete"></a>删除delete</h1><p><a name="KQsRW"></a></p><h2 id="基础语法"><a href="#基础语法" class="headerlink" title="基础语法"></a>基础语法</h2><blockquote><p>若不写where语句会删除所有记录</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> invoices</span><br><span class="line"><span class="keyword">where</span> invoice_id <span class="operator">=</span> <span class="number">1</span></span><br></pre></td></tr></table></figure><p><a name="ehs6d"></a></p><h2 id="在where语句中使用select语句"><a href="#在where语句中使用select语句" class="headerlink" title="在where语句中使用select语句"></a>在where语句中使用select语句</h2><blockquote><p>和update一样</p></blockquote><blockquote><p>括号内的select会先执行，在另一个表中筛选出client_id作为筛选条件</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> invoices</span><br><span class="line"><span class="keyword">set</span> </span><br><span class="line">payment_totle <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">payment_date <span class="operator">=</span> <span class="string">&#x27;2022-10-22&#x27;</span></span><br><span class="line"><span class="keyword">where</span> client_id <span class="keyword">IN</span>(</span><br><span class="line">  <span class="keyword">select</span> client_id</span><br><span class="line">  <span class="keyword">from</span> clients</span><br><span class="line">  <span class="keyword">where</span> state <span class="keyword">in</span>(<span class="string">&#x27;CA&#x27;</span>,<span class="string">&#x27;NY&#x27;</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h1 id="修改update"><a href="#修改update" class="headerlink" title="修改update"></a>修改update</h1><p><a name="Ij2Ps"></a></p><h2 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> 表名</span><br><span class="line"><span class="keyword">set</span> 键名<span class="number">1</span><span class="operator">=</span>键值<span class="number">1</span>，</span><br><span class="line">键名<span class="number">2</span><span class="operator">=</span>键值<span class="number">2</span></span><br><span class="line"><span class="keyword">where</span> 键名<span class="operator">=</span>键值 <span class="comment">-- 筛选条件，确定是哪一行的数据更新</span></span><br></pre></td></tr></table></figure><p><a name="MlwIA"></a></p><h2 id="在where语句中使用select语句-1"><a href="#在where语句中使用select语句-1" class="headerlink" title="在where语句中使用select语句"></a>在where语句中使用select语句</h2><blockquote><p>括号内的select会先执行，在另一个表中筛选出client_id作为筛选条件</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> invoices</span><br><span class="line"><span class="keyword">set</span> </span><br><span class="line">payment_totle <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">payment_date <span class="operator">=</span> <span class="string">&#x27;2022-10-22&#x27;</span></span><br><span class="line"><span class="keyword">where</span> client_id <span class="keyword">IN</span>(</span><br><span class="line">  <span class="keyword">select</span> client_id</span><br><span class="line">  <span class="keyword">from</span> clients</span><br><span class="line">  <span class="keyword">where</span> state <span class="keyword">in</span>(<span class="string">&#x27;CA&#x27;</span>,<span class="string">&#x27;NY&#x27;</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><a name="V2ODC"></a></p><h1 id="查询select"><a href="#查询select" class="headerlink" title="查询select"></a>查询select</h1><p><a name="OgySP"></a></p><h2 id="语句结构"><a href="#语句结构" class="headerlink" title="语句结构"></a>语句结构</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="string">&#x27;要选择的列&#x27;</span> </span><br><span class="line"><span class="keyword">from</span> <span class="string">&#x27;要选择的表&#x27;</span></span><br><span class="line"><span class="keyword">where</span> <span class="string">&#x27;筛选条件&#x27;</span></span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> <span class="string">&#x27;排序条件&#x27;</span></span><br><span class="line">limit <span class="string">&#x27;要显示的记录数&#x27;</span></span><br></pre></td></tr></table></figure><p><a name="Qiz7R"></a></p><h2 id="选择列"><a href="#选择列" class="headerlink" title="选择列"></a>选择列</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> </span><br><span class="line">last_name,<span class="comment">--不同的列用逗号隔开</span></span><br><span class="line">first_name,</span><br><span class="line">points,</span><br><span class="line">points<span class="operator">+</span><span class="number">10</span> <span class="keyword">as</span> <span class="string">&#x27;new point&#x27;</span> <span class="comment">--可以做数学运算；as用来命名新的列</span></span><br><span class="line"><span class="keyword">from</span> customers</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">DISTINCT</span> state <span class="comment">--筛选出的值不会重复</span></span><br><span class="line"><span class="keyword">from</span> customers</span><br></pre></td></tr></table></figure><p><a name="mKJSJ"></a></p><h2 id="选择记录"><a href="#选择记录" class="headerlink" title="选择记录"></a>选择记录</h2><p><a name="C8DPK"></a></p><h3 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h3><blockquote><p>可比较数字和时间</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span> customers</span><br><span class="line"><span class="keyword">where</span> brith_date <span class="operator">&gt;</span> <span class="string">&#x27;1990-01-01&#x27;</span></span><br><span class="line"><span class="keyword">and</span> point <span class="operator">&gt;</span><span class="number">300</span></span><br></pre></td></tr></table></figure><blockquote><p>若有多个值需要配对，可用in或not in</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span> customers</span><br><span class="line"><span class="keyword">where</span> state <span class="keyword">not</span> <span class="keyword">in</span> (<span class="string">&#x27;VA&#x27;</span>,<span class="string">&#x27;FL&#x27;</span>,<span class="string">&#x27;GA&#x27;</span>)</span><br></pre></td></tr></table></figure><blockquote><p>若在一个范围内，可用between … and …<br>可以是数字也可以是时间</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span> customers</span><br><span class="line"><span class="keyword">where</span> point <span class="keyword">between</span> <span class="number">1000</span> <span class="keyword">and</span> <span class="number">3000</span></span><br><span class="line"><span class="keyword">and</span> birth_date <span class="keyword">between</span> <span class="string">&#x27;1990-01-01&#x27;</span> <span class="keyword">and</span> <span class="string">&#x27;2000-01-01&#x27;</span></span><br></pre></td></tr></table></figure><p><a name="HHvJw"></a></p><h3 id="like"><a href="#like" class="headerlink" title="like"></a>like</h3><ul><li><p>操作符</p><table><thead><tr><th>like  ‘ ‘</th><th>等于引号里字符的记录</th></tr></thead><tbody><tr><td>%</td><td>任意字符</td></tr><tr><td>_</td><td>一个字符</td></tr></tbody></table></li><li><p>例：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Persons</span><br><span class="line"><span class="keyword">WHERE</span> City <span class="keyword">LIKE</span> <span class="string">&#x27;%lon%&#x27;</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Persons</span><br><span class="line"><span class="keyword">WHERE</span> City <span class="keyword">NOT</span> <span class="keyword">LIKE</span> <span class="string">&#x27;%lon%&#x27;</span></span><br></pre></td></tr></table></figure><p><a name="QuG7X"></a></p></li></ul><h3 id="regexp"><a href="#regexp" class="headerlink" title="regexp"></a>regexp</h3><ul><li>常见正则表达式<table><thead><tr><th>regexp ‘ ‘</th><th>包含引号里字符的记录</th></tr></thead><tbody><tr><td>^</td><td>以后面的字符开头的</td></tr><tr><td>$</td><td>以后面的字符结尾</td></tr><tr><td>&amp;#124;</td><td>逻辑或</td></tr><tr><td>[abc]</td><td>a,b,c中任意一个</td></tr><tr><td>[a-z]</td><td>a到z中选一个</td></tr></tbody></table></li></ul><p><a name="AWNUs"></a></p><h3 id="limit"><a href="#limit" class="headerlink" title="limit"></a>limit</h3><ul><li>规定要返回的记录的数目<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> Persons</span><br><span class="line">LIMIT <span class="number">5</span><span class="comment">--最多返回五条记录</span></span><br></pre></td></tr></table></figure><a name="iDkug"></a></li></ul><h3 id="is-null-和-is-not-null"><a href="#is-null-和-is-not-null" class="headerlink" title="is null 和 is not null"></a>is null 和 is not null</h3><ul><li>可选出特定值空的记录，或非空的记录<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Persons</span><br><span class="line"><span class="keyword">WHERE</span> phone <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br></pre></td></tr></table></figure><a name="HAqvR"></a></li></ul><h2 id="结合join"><a href="#结合join" class="headerlink" title="结合join"></a>结合join</h2><p><a name="O8Mie"></a></p><h3 id="结合多个表"><a href="#结合多个表" class="headerlink" title="结合多个表"></a>结合多个表</h3><blockquote><p>使用using关键字，可以代替两个相同列的名称的值相等</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> Persons</span><br><span class="line"><span class="keyword">JOIN</span> Orders</span><br><span class="line"><span class="keyword">ON</span> <span class="keyword">using</span>(id_p)</span><br><span class="line"><span class="comment">-- 这里的on一定要写，后面的是结合的条件</span></span><br></pre></td></tr></table></figure><p><a name="MfRzV"></a></p><h3 id="显示所有left-join"><a href="#显示所有left-join" class="headerlink" title="显示所有left join"></a>显示所有left join</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> Persons <span class="keyword">as</span> p</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> Orders <span class="keyword">as</span> o</span><br><span class="line"><span class="keyword">ON</span> <span class="keyword">using</span>(id_p)</span><br><span class="line"><span class="comment">-- persons表中的所有列都会列出，即使匹配不到</span></span><br></pre></td></tr></table></figure><p><a name="Aqiv6"></a></p><h3 id="交叉结合nature-join"><a href="#交叉结合nature-join" class="headerlink" title="交叉结合nature join"></a>交叉结合nature join</h3><blockquote><p>即笛卡尔积，前表中的每一行都与后表的所有行配对</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span> shippers sh</span><br><span class="line"><span class="keyword">cross</span> <span class="keyword">join</span> products p</span><br><span class="line"><span class="comment">-- 不需要写on</span></span><br></pre></td></tr></table></figure><p><a name="E1Mg6"></a></p><h2 id="合并结果集union"><a href="#合并结果集union" class="headerlink" title="合并结果集union"></a>合并结果集union</h2><blockquote><ol><li>每个SELECT 语句必须拥有相同数量的列。</li><li>每个列也必须拥有相似的数据类型。</li><li>每条 SELECT 语句中的列的顺序必须相同。</li></ol></blockquote><ul><li><p>同一个表不同列结合</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> E_Name <span class="keyword">FROM</span> Employees_China</span><br><span class="line"><span class="keyword">UNION</span> <span class="comment">-- 把两个查询的结果纵向结合</span></span><br><span class="line"><span class="keyword">SELECT</span> E_Name <span class="keyword">FROM</span> Employees_USA</span><br></pre></td></tr></table></figure></li><li><p>不同的表之间结合</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> first_name</span><br><span class="line"><span class="keyword">from</span> archived_order</span><br><span class="line"><span class="keyword">union</span> </span><br><span class="line"><span class="keyword">select</span> name</span><br><span class="line"><span class="keyword">from</span> shippers</span><br></pre></td></tr></table></figure></li></ul><h2 id="对查询结果排序"><a href="#对查询结果排序" class="headerlink" title="对查询结果排序"></a>对查询结果排序</h2><table><thead><tr><th align="center"></th><th align="center"></th><th align="center"></th><th align="center"></th><th align="center"></th></tr></thead><tbody><tr><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;数据库基本操作&quot;&gt;&lt;a href=&quot;#数据库基本操作&quot; class=&quot;headerlink&quot; title=&quot;数据库基本操作&quot;&gt;&lt;/a&gt;数据库基本操作&lt;/h1&gt;&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;g</summary>
      
    
    
    
    <category term="SQL数据库" scheme="https://coding.lilming.top/categories/SQL%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
    <category term="后端" scheme="https://coding.lilming.top/tags/%E5%90%8E%E7%AB%AF/"/>
    
    <category term="语言基础" scheme="https://coding.lilming.top/tags/%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/"/>
    
  </entry>
  
  <entry>
    <title>SQL进阶</title>
    <link href="https://coding.lilming.top/2023/04/26/SQL%E6%95%B0%E6%8D%AE%E5%BA%93/SQL%E8%BF%9B%E9%98%B6/"/>
    <id>https://coding.lilming.top/2023/04/26/SQL%E6%95%B0%E6%8D%AE%E5%BA%93/SQL%E8%BF%9B%E9%98%B6/</id>
    <published>2023-04-26T07:16:00.000Z</published>
    <updated>2023-09-08T03:55:26.645Z</updated>
    
    
    
    
    <category term="SQL数据库" scheme="https://coding.lilming.top/categories/SQL%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
  </entry>
  
  <entry>
    <title>VUE</title>
    <link href="https://coding.lilming.top/2023/04/26/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/VUE/"/>
    <id>https://coding.lilming.top/2023/04/26/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/VUE/</id>
    <published>2023-04-26T07:16:00.000Z</published>
    <updated>2023-09-08T03:57:55.755Z</updated>
    
    
    
    
    <category term="前端学习" scheme="https://coding.lilming.top/categories/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/"/>
    
    
  </entry>
  
</feed>
